{"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/test/integration-tests.ts":{"path":"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/test/integration-tests.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":11},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":42}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":48}},"4":{"start":{"line":6,"column":16},"end":{"line":6,"column":34}},"5":{"start":{"line":7,"column":21},"end":{"line":7,"column":52}},"6":{"start":{"line":8,"column":22},"end":{"line":8,"column":51}},"7":{"start":{"line":9,"column":30},"end":{"line":9,"column":62}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"9":{"start":{"line":11,"column":13},"end":{"line":11,"column":24}},"10":{"start":{"line":12,"column":18},"end":{"line":12,"column":31}},"11":{"start":{"line":13,"column":19},"end":{"line":13,"column":33}},"12":{"start":{"line":15,"column":4},"end":{"line":46,"column":7}},"13":{"start":{"line":22,"column":24},"end":{"line":22,"column":39}},"14":{"start":{"line":32,"column":85},"end":{"line":32,"column":101}},"15":{"start":{"line":32,"column":119},"end":{"line":32,"column":131}},"16":{"start":{"line":34,"column":24},"end":{"line":34,"column":45}},"17":{"start":{"line":39,"column":85},"end":{"line":39,"column":108}},"18":{"start":{"line":39,"column":126},"end":{"line":39,"column":138}},"19":{"start":{"line":41,"column":24},"end":{"line":41,"column":46}},"20":{"start":{"line":48,"column":0},"end":{"line":68,"column":3}},"21":{"start":{"line":49,"column":16},"end":{"line":49,"column":98}},"22":{"start":{"line":50,"column":23},"end":{"line":50,"column":105}},"23":{"start":{"line":51,"column":17},"end":{"line":51,"column":86}},"24":{"start":{"line":52,"column":23},"end":{"line":52,"column":56}},"25":{"start":{"line":53,"column":30},"end":{"line":53,"column":64}},"26":{"start":{"line":54,"column":20},"end":{"line":54,"column":67}},"27":{"start":{"line":55,"column":17},"end":{"line":55,"column":63}},"28":{"start":{"line":56,"column":4},"end":{"line":67,"column":7}},"29":{"start":{"line":57,"column":8},"end":{"line":66,"column":11}},"30":{"start":{"line":59,"column":12},"end":{"line":59,"column":65}},"31":{"start":{"line":60,"column":20},"end":{"line":60,"column":29}},"32":{"start":{"line":61,"column":12},"end":{"line":61,"column":84}},"33":{"start":{"line":61,"column":37},"end":{"line":61,"column":76}},"34":{"start":{"line":62,"column":12},"end":{"line":62,"column":21}},"35":{"start":{"line":65,"column":12},"end":{"line":65,"column":76}}},"fnMap":{"0":{"name":"buildSchema","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":20}},"loc":{"start":{"line":14,"column":48},"end":{"line":47,"column":1}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":29},"end":{"line":21,"column":30}},"loc":{"start":{"line":21,"column":48},"end":{"line":23,"column":21}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":32,"column":71},"end":{"line":32,"column":72}},"loc":{"start":{"line":32,"column":83},"end":{"line":32,"column":103}},"line":32},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":105},"end":{"line":32,"column":106}},"loc":{"start":{"line":32,"column":117},"end":{"line":32,"column":133}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":33,"column":29},"end":{"line":33,"column":30}},"loc":{"start":{"line":33,"column":45},"end":{"line":35,"column":21}},"line":33},"5":{"name":"(anonymous_5)","decl":{"start":{"line":39,"column":71},"end":{"line":39,"column":72}},"loc":{"start":{"line":39,"column":83},"end":{"line":39,"column":110}},"line":39},"6":{"name":"(anonymous_6)","decl":{"start":{"line":39,"column":112},"end":{"line":39,"column":113}},"loc":{"start":{"line":39,"column":124},"end":{"line":39,"column":140}},"line":39},"7":{"name":"(anonymous_7)","decl":{"start":{"line":40,"column":29},"end":{"line":40,"column":30}},"loc":{"start":{"line":40,"column":45},"end":{"line":42,"column":21}},"line":40},"8":{"name":"(anonymous_8)","decl":{"start":{"line":48,"column":32},"end":{"line":48,"column":33}},"loc":{"start":{"line":48,"column":44},"end":{"line":68,"column":1}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":56,"column":37},"end":{"line":56,"column":38}},"loc":{"start":{"line":56,"column":49},"end":{"line":67,"column":5}},"line":56},"10":{"name":"(anonymous_10)","decl":{"start":{"line":58,"column":18},"end":{"line":58,"column":19}},"loc":{"start":{"line":58,"column":32},"end":{"line":63,"column":9}},"line":58},"11":{"name":"(anonymous_11)","decl":{"start":{"line":61,"column":23},"end":{"line":61,"column":24}},"loc":{"start":{"line":61,"column":35},"end":{"line":61,"column":78}},"line":61},"12":{"name":"(anonymous_12)","decl":{"start":{"line":64,"column":18},"end":{"line":64,"column":19}},"loc":{"start":{"line":64,"column":33},"end":{"line":66,"column":9}},"line":64}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{},"inputSourceMap":{"version":3,"file":"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/test/integration-tests.ts","sources":["/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/test/integration-tests.ts"],"names":[],"mappings":"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","sourcesContent":["import * as chai from 'chai';\nimport { mock } from 'simple-mock';\nimport * as chaiAsPromised from 'chai-as-promised';\nimport { parse, GraphQLSchema, GraphQLObjectType, GraphQLString, GraphQLFieldResolver } from 'graphql';\nimport { subscribe } from 'graphql/subscription';\n\nimport { SolacePubSub } from './../solace-pubsub';\nimport { withFilter } from 'graphql-subscriptions';\n\nchai.use(chaiAsPromised);\nconst expect = chai.expect;\n\nconst FIRST_EVENT = 'FIRST_EVENT';\nconst SECOND_EVENT = 'SECOND_EVENT';\n\nfunction buildSchema(iterator, patternIterator) {\n  return new GraphQLSchema({\n    query: new GraphQLObjectType({\n      name: 'Query',\n      fields: {\n        testString: {\n          type: GraphQLString,\n          resolve: function (_, args) {\n            return 'works';\n          },\n        },\n      },\n    }),\n    subscription: new GraphQLObjectType({\n      name: 'Subscription',\n      fields: {\n        testSubscription: {\n          type: GraphQLString,\n          subscribe: withFilter(\n            () => iterator,\n            () => true\n          ) as GraphQLFieldResolver<any, any, any>,\n          resolve: (root) => {\n            return 'FIRST_EVENT';\n          },\n        },\n\n        testPatternSubscription: {\n          type: GraphQLString,\n          subscribe: withFilter(\n            () => patternIterator,\n            () => true\n          ) as GraphQLFieldResolver<any, any, any>,\n          resolve: (root) => {\n            return 'SECOND_EVENT';\n          },\n        },\n      },\n    }),\n  });\n}\n\ndescribe('PubSubAsyncIterator', function () {\n  const query = parse(`\n    subscription S! {\n      testSubscription\n    }\n  `);\n\n  const patternQuery = parse(`\n    subscription S! {\n      testSubscription\n    }\n  `);\n\n  //Expects a local broker to be running websocket port on 8080\n  const pubsub = SolacePubSub.startWithDefaultOptions('GRAPHQL_QUEUE');\n  const origIterator = pubsub.asyncIterator(FIRST_EVENT);\n  const origPatternIterator = pubsub.asyncIterator(SECOND_EVENT);\n  const returnSpy = mock(origIterator, 'return');\n  const schema = buildSchema(origIterator, origPatternIterator);\n\n  it('should allow subscriptions', () =>\n    subscribe({ schema, document: query })\n      .then((ai) => {\n        expect(ai[Symbol.asyncIterator]).not.to.be.undefined;\n        const r = (ai as AsyncIterator<any>).next();\n        setTimeout(() => pubsub.publish(FIRST_EVENT, {}), 50);\n\n        return r;\n      })\n      .then((res) => {\n        expect(res.value.data.testSubscription).to.equal('FIRST_EVENT');\n      }));\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f0487ee718b2962169c0e738ae9fe0838e82ee38","contentHash":"69bc5c304aaad741c7afa4e3e97ea461bc03c70afcb5f6f30096916102f59b4c"},"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/solace-pubsub.ts":{"path":"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/solace-pubsub.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":18},"end":{"line":37,"column":1}},"13":{"start":{"line":12,"column":12},"end":{"line":12,"column":104}},"14":{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},"15":{"start":{"line":12,"column":57},"end":{"line":12,"column":68}},"16":{"start":{"line":12,"column":69},"end":{"line":12,"column":81}},"17":{"start":{"line":13,"column":4},"end":{"line":13,"column":157}},"18":{"start":{"line":13,"column":138},"end":{"line":13,"column":150}},"19":{"start":{"line":14,"column":23},"end":{"line":14,"column":68}},"20":{"start":{"line":14,"column":45},"end":{"line":14,"column":65}},"21":{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},"22":{"start":{"line":16,"column":15},"end":{"line":16,"column":70}},"23":{"start":{"line":17,"column":8},"end":{"line":34,"column":66}},"24":{"start":{"line":17,"column":50},"end":{"line":34,"column":66}},"25":{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},"26":{"start":{"line":18,"column":160},"end":{"line":18,"column":169}},"27":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"28":{"start":{"line":19,"column":26},"end":{"line":19,"column":52}},"29":{"start":{"line":20,"column":12},"end":{"line":32,"column":13}},"30":{"start":{"line":21,"column":32},"end":{"line":21,"column":39}},"31":{"start":{"line":21,"column":40},"end":{"line":21,"column":46}},"32":{"start":{"line":22,"column":24},"end":{"line":22,"column":34}},"33":{"start":{"line":22,"column":35},"end":{"line":22,"column":72}},"34":{"start":{"line":23,"column":24},"end":{"line":23,"column":34}},"35":{"start":{"line":23,"column":35},"end":{"line":23,"column":45}},"36":{"start":{"line":23,"column":46},"end":{"line":23,"column":55}},"37":{"start":{"line":23,"column":56},"end":{"line":23,"column":65}},"38":{"start":{"line":24,"column":24},"end":{"line":24,"column":41}},"39":{"start":{"line":24,"column":42},"end":{"line":24,"column":55}},"40":{"start":{"line":24,"column":56},"end":{"line":24,"column":65}},"41":{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},"42":{"start":{"line":26,"column":110},"end":{"line":26,"column":116}},"43":{"start":{"line":26,"column":117},"end":{"line":26,"column":126}},"44":{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},"45":{"start":{"line":27,"column":81},"end":{"line":27,"column":97}},"46":{"start":{"line":27,"column":98},"end":{"line":27,"column":104}},"47":{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},"48":{"start":{"line":28,"column":57},"end":{"line":28,"column":72}},"49":{"start":{"line":28,"column":73},"end":{"line":28,"column":80}},"50":{"start":{"line":28,"column":81},"end":{"line":28,"column":87}},"51":{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},"52":{"start":{"line":29,"column":47},"end":{"line":29,"column":62}},"53":{"start":{"line":29,"column":63},"end":{"line":29,"column":78}},"54":{"start":{"line":29,"column":79},"end":{"line":29,"column":85}},"55":{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},"56":{"start":{"line":30,"column":30},"end":{"line":30,"column":42}},"57":{"start":{"line":31,"column":20},"end":{"line":31,"column":33}},"58":{"start":{"line":31,"column":34},"end":{"line":31,"column":43}},"59":{"start":{"line":33,"column":12},"end":{"line":33,"column":39}},"60":{"start":{"line":34,"column":22},"end":{"line":34,"column":34}},"61":{"start":{"line":34,"column":35},"end":{"line":34,"column":41}},"62":{"start":{"line":34,"column":54},"end":{"line":34,"column":64}},"63":{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},"64":{"start":{"line":35,"column":23},"end":{"line":35,"column":35}},"65":{"start":{"line":35,"column":36},"end":{"line":35,"column":89}},"66":{"start":{"line":38,"column":20},"end":{"line":46,"column":1}},"67":{"start":{"line":39,"column":4},"end":{"line":44,"column":5}},"68":{"start":{"line":39,"column":40},"end":{"line":44,"column":5}},"69":{"start":{"line":39,"column":53},"end":{"line":39,"column":54}},"70":{"start":{"line":39,"column":60},"end":{"line":39,"column":71}},"71":{"start":{"line":40,"column":8},"end":{"line":43,"column":9}},"72":{"start":{"line":41,"column":12},"end":{"line":41,"column":65}},"73":{"start":{"line":41,"column":21},"end":{"line":41,"column":65}},"74":{"start":{"line":42,"column":12},"end":{"line":42,"column":28}},"75":{"start":{"line":45,"column":4},"end":{"line":45,"column":61}},"76":{"start":{"line":47,"column":0},"end":{"line":47,"column":62}},"77":{"start":{"line":48,"column":0},"end":{"line":48,"column":60}},"78":{"start":{"line":49,"column":30},"end":{"line":49,"column":64}},"79":{"start":{"line":50,"column":13},"end":{"line":50,"column":35}},"80":{"start":{"line":51,"column":13},"end":{"line":51,"column":28}},"81":{"start":{"line":52,"column":19},"end":{"line":52,"column":40}},"82":{"start":{"line":53,"column":27},"end":{"line":65,"column":3}},"83":{"start":{"line":55,"column":8},"end":{"line":55,"column":60}},"84":{"start":{"line":55,"column":30},"end":{"line":55,"column":58}},"85":{"start":{"line":56,"column":8},"end":{"line":56,"column":56}},"86":{"start":{"line":56,"column":34},"end":{"line":56,"column":54}},"87":{"start":{"line":57,"column":8},"end":{"line":57,"column":50}},"88":{"start":{"line":57,"column":31},"end":{"line":57,"column":48}},"89":{"start":{"line":58,"column":8},"end":{"line":58,"column":58}},"90":{"start":{"line":58,"column":35},"end":{"line":58,"column":56}},"91":{"start":{"line":59,"column":8},"end":{"line":59,"column":23}},"92":{"start":{"line":60,"column":8},"end":{"line":60,"column":31}},"93":{"start":{"line":61,"column":8},"end":{"line":61,"column":29}},"94":{"start":{"line":62,"column":8},"end":{"line":62,"column":33}},"95":{"start":{"line":64,"column":4},"end":{"line":64,"column":31}},"96":{"start":{"line":66,"column":0},"end":{"line":66,"column":50}},"97":{"start":{"line":67,"column":20},"end":{"line":194,"column":3}},"98":{"start":{"line":69,"column":8},"end":{"line":69,"column":35}},"99":{"start":{"line":70,"column":8},"end":{"line":70,"column":34}},"100":{"start":{"line":71,"column":8},"end":{"line":71,"column":30}},"101":{"start":{"line":72,"column":8},"end":{"line":72,"column":39}},"102":{"start":{"line":73,"column":8},"end":{"line":73,"column":31}},"103":{"start":{"line":74,"column":8},"end":{"line":75,"column":65}},"104":{"start":{"line":75,"column":12},"end":{"line":75,"column":65}},"105":{"start":{"line":76,"column":8},"end":{"line":76,"column":21}},"106":{"start":{"line":78,"column":4},"end":{"line":80,"column":6}},"107":{"start":{"line":79,"column":8},"end":{"line":79,"column":43}},"108":{"start":{"line":81,"column":4},"end":{"line":83,"column":6}},"109":{"start":{"line":82,"column":8},"end":{"line":82,"column":64}},"110":{"start":{"line":84,"column":4},"end":{"line":86,"column":6}},"111":{"start":{"line":85,"column":8},"end":{"line":85,"column":58}},"112":{"start":{"line":87,"column":4},"end":{"line":103,"column":6}},"113":{"start":{"line":88,"column":20},"end":{"line":88,"column":24}},"114":{"start":{"line":89,"column":8},"end":{"line":89,"column":112}},"115":{"start":{"line":90,"column":8},"end":{"line":102,"column":9}},"116":{"start":{"line":91,"column":12},"end":{"line":98,"column":15}},"117":{"start":{"line":94,"column":16},"end":{"line":94,"column":69}},"118":{"start":{"line":97,"column":16},"end":{"line":97,"column":35}},"119":{"start":{"line":101,"column":12},"end":{"line":101,"column":63}},"120":{"start":{"line":104,"column":4},"end":{"line":127,"column":6}},"121":{"start":{"line":105,"column":20},"end":{"line":105,"column":24}},"122":{"start":{"line":106,"column":26},"end":{"line":108,"column":68}},"123":{"start":{"line":107,"column":37},"end":{"line":107,"column":106}},"124":{"start":{"line":108,"column":34},"end":{"line":108,"column":64}},"125":{"start":{"line":109,"column":8},"end":{"line":111,"column":9}},"126":{"start":{"line":110,"column":12},"end":{"line":110,"column":19}},"127":{"start":{"line":112,"column":28},"end":{"line":112,"column":57}},"128":{"start":{"line":113,"column":8},"end":{"line":126,"column":9}},"129":{"start":{"line":114,"column":23},"end":{"line":114,"column":119}},"130":{"start":{"line":115,"column":12},"end":{"line":122,"column":15}},"131":{"start":{"line":116,"column":27},"end":{"line":116,"column":43}},"132":{"start":{"line":117,"column":16},"end":{"line":121,"column":17}},"133":{"start":{"line":117,"column":30},"end":{"line":117,"column":31}},"134":{"start":{"line":117,"column":49},"end":{"line":117,"column":60}},"135":{"start":{"line":118,"column":32},"end":{"line":118,"column":49}},"136":{"start":{"line":119,"column":35},"end":{"line":119,"column":66}},"137":{"start":{"line":120,"column":20},"end":{"line":120,"column":35}},"138":{"start":{"line":125,"column":12},"end":{"line":125,"column":73}},"139":{"start":{"line":128,"column":4},"end":{"line":142,"column":6}},"140":{"start":{"line":129,"column":22},"end":{"line":129,"column":27}},"141":{"start":{"line":130,"column":24},"end":{"line":130,"column":52}},"142":{"start":{"line":131,"column":8},"end":{"line":132,"column":82}},"143":{"start":{"line":132,"column":12},"end":{"line":132,"column":82}},"144":{"start":{"line":133,"column":22},"end":{"line":133,"column":44}},"145":{"start":{"line":134,"column":8},"end":{"line":140,"column":9}},"146":{"start":{"line":135,"column":12},"end":{"line":135,"column":27}},"147":{"start":{"line":136,"column":12},"end":{"line":139,"column":13}},"148":{"start":{"line":137,"column":16},"end":{"line":138,"column":36}},"149":{"start":{"line":138,"column":20},"end":{"line":138,"column":36}},"150":{"start":{"line":141,"column":8},"end":{"line":141,"column":23}},"151":{"start":{"line":143,"column":4},"end":{"line":145,"column":6}},"152":{"start":{"line":144,"column":8},"end":{"line":144,"column":86}},"153":{"start":{"line":146,"column":4},"end":{"line":168,"column":6}},"154":{"start":{"line":147,"column":20},"end":{"line":147,"column":24}},"155":{"start":{"line":148,"column":17},"end":{"line":148,"column":45}},"156":{"start":{"line":149,"column":8},"end":{"line":149,"column":60}},"157":{"start":{"line":150,"column":19},"end":{"line":150,"column":48}},"158":{"start":{"line":151,"column":8},"end":{"line":167,"column":9}},"159":{"start":{"line":152,"column":26},"end":{"line":152,"column":83}},"160":{"start":{"line":153,"column":12},"end":{"line":153,"column":52}},"161":{"start":{"line":154,"column":12},"end":{"line":154,"column":39}},"162":{"start":{"line":157,"column":12},"end":{"line":166,"column":15}},"163":{"start":{"line":158,"column":16},"end":{"line":165,"column":67}},"164":{"start":{"line":161,"column":42},"end":{"line":161,"column":78}},"165":{"start":{"line":162,"column":20},"end":{"line":162,"column":122}},"166":{"start":{"line":163,"column":20},"end":{"line":163,"column":32}},"167":{"start":{"line":165,"column":44},"end":{"line":165,"column":63}},"168":{"start":{"line":169,"column":4},"end":{"line":189,"column":6}},"169":{"start":{"line":170,"column":17},"end":{"line":170,"column":55}},"170":{"start":{"line":170,"column":71},"end":{"line":170,"column":96}},"171":{"start":{"line":171,"column":19},"end":{"line":171,"column":48}},"172":{"start":{"line":172,"column":8},"end":{"line":174,"column":9}},"173":{"start":{"line":173,"column":12},"end":{"line":173,"column":85}},"174":{"start":{"line":176,"column":8},"end":{"line":186,"column":9}},"175":{"start":{"line":177,"column":12},"end":{"line":179,"column":15}},"176":{"start":{"line":178,"column":16},"end":{"line":178,"column":29}},"177":{"start":{"line":182,"column":24},"end":{"line":182,"column":43}},"178":{"start":{"line":183,"column":12},"end":{"line":185,"column":13}},"179":{"start":{"line":184,"column":16},"end":{"line":184,"column":116}},"180":{"start":{"line":187,"column":8},"end":{"line":187,"column":48}},"181":{"start":{"line":188,"column":8},"end":{"line":188,"column":43}},"182":{"start":{"line":190,"column":4},"end":{"line":192,"column":6}},"183":{"start":{"line":191,"column":8},"end":{"line":191,"column":79}},"184":{"start":{"line":193,"column":4},"end":{"line":193,"column":24}},"185":{"start":{"line":195,"column":0},"end":{"line":195,"column":36}},"186":{"start":{"line":196,"column":20},"end":{"line":407,"column":3}},"187":{"start":{"line":198,"column":8},"end":{"line":198,"column":28}},"188":{"start":{"line":199,"column":8},"end":{"line":199,"column":33}},"189":{"start":{"line":200,"column":27},"end":{"line":200,"column":66}},"190":{"start":{"line":201,"column":8},"end":{"line":201,"column":73}},"191":{"start":{"line":202,"column":8},"end":{"line":202,"column":51}},"192":{"start":{"line":203,"column":8},"end":{"line":203,"column":31}},"193":{"start":{"line":204,"column":8},"end":{"line":204,"column":47}},"194":{"start":{"line":205,"column":8},"end":{"line":205,"column":46}},"195":{"start":{"line":207,"column":4},"end":{"line":257,"column":6}},"196":{"start":{"line":208,"column":20},"end":{"line":208,"column":24}},"197":{"start":{"line":209,"column":8},"end":{"line":256,"column":11}},"198":{"start":{"line":210,"column":12},"end":{"line":255,"column":13}},"199":{"start":{"line":211,"column":16},"end":{"line":211,"column":74}},"200":{"start":{"line":214,"column":16},"end":{"line":233,"column":17}},"201":{"start":{"line":215,"column":20},"end":{"line":218,"column":21}},"202":{"start":{"line":216,"column":24},"end":{"line":216,"column":151}},"203":{"start":{"line":217,"column":24},"end":{"line":217,"column":31}},"204":{"start":{"line":219,"column":20},"end":{"line":229,"column":23}},"205":{"start":{"line":232,"column":20},"end":{"line":232,"column":52}},"206":{"start":{"line":234,"column":16},"end":{"line":237,"column":19}},"207":{"start":{"line":235,"column":20},"end":{"line":235,"column":91}},"208":{"start":{"line":236,"column":20},"end":{"line":236,"column":41}},"209":{"start":{"line":238,"column":16},"end":{"line":241,"column":19}},"210":{"start":{"line":239,"column":20},"end":{"line":239,"column":158}},"211":{"start":{"line":240,"column":20},"end":{"line":240,"column":76}},"212":{"start":{"line":242,"column":16},"end":{"line":248,"column":19}},"213":{"start":{"line":243,"column":20},"end":{"line":243,"column":50}},"214":{"start":{"line":244,"column":20},"end":{"line":247,"column":21}},"215":{"start":{"line":245,"column":24},"end":{"line":245,"column":48}},"216":{"start":{"line":246,"column":24},"end":{"line":246,"column":45}},"217":{"start":{"line":249,"column":16},"end":{"line":254,"column":17}},"218":{"start":{"line":250,"column":20},"end":{"line":250,"column":44}},"219":{"start":{"line":253,"column":20},"end":{"line":253,"column":51}},"220":{"start":{"line":258,"column":4},"end":{"line":271,"column":6}},"221":{"start":{"line":259,"column":8},"end":{"line":259,"column":68}},"222":{"start":{"line":260,"column":8},"end":{"line":270,"column":9}},"223":{"start":{"line":261,"column":12},"end":{"line":266,"column":13}},"224":{"start":{"line":262,"column":16},"end":{"line":262,"column":42}},"225":{"start":{"line":265,"column":16},"end":{"line":265,"column":48}},"226":{"start":{"line":269,"column":12},"end":{"line":269,"column":69}},"227":{"start":{"line":272,"column":4},"end":{"line":311,"column":6}},"228":{"start":{"line":273,"column":20},"end":{"line":273,"column":24}},"229":{"start":{"line":274,"column":8},"end":{"line":310,"column":9}},"230":{"start":{"line":275,"column":12},"end":{"line":275,"column":54}},"231":{"start":{"line":278,"column":12},"end":{"line":309,"column":13}},"232":{"start":{"line":279,"column":16},"end":{"line":279,"column":82}},"233":{"start":{"line":281,"column":16},"end":{"line":285,"column":19}},"234":{"start":{"line":286,"column":16},"end":{"line":288,"column":19}},"235":{"start":{"line":287,"column":20},"end":{"line":287,"column":93}},"236":{"start":{"line":289,"column":16},"end":{"line":291,"column":19}},"237":{"start":{"line":290,"column":20},"end":{"line":290,"column":80}},"238":{"start":{"line":292,"column":16},"end":{"line":294,"column":19}},"239":{"start":{"line":293,"column":20},"end":{"line":293,"column":66}},"240":{"start":{"line":295,"column":16},"end":{"line":297,"column":19}},"241":{"start":{"line":296,"column":20},"end":{"line":296,"column":84}},"242":{"start":{"line":298,"column":16},"end":{"line":301,"column":19}},"243":{"start":{"line":299,"column":20},"end":{"line":299,"column":57}},"244":{"start":{"line":300,"column":20},"end":{"line":300,"column":42}},"245":{"start":{"line":302,"column":16},"end":{"line":308,"column":17}},"246":{"start":{"line":303,"column":20},"end":{"line":303,"column":51}},"247":{"start":{"line":304,"column":20},"end":{"line":304,"column":44}},"248":{"start":{"line":307,"column":20},"end":{"line":307,"column":114}},"249":{"start":{"line":312,"column":4},"end":{"line":319,"column":6}},"250":{"start":{"line":313,"column":20},"end":{"line":313,"column":24}},"251":{"start":{"line":314,"column":8},"end":{"line":318,"column":11}},"252":{"start":{"line":315,"column":33},"end":{"line":315,"column":49}},"253":{"start":{"line":316,"column":12},"end":{"line":316,"column":86}},"254":{"start":{"line":317,"column":12},"end":{"line":317,"column":139}},"255":{"start":{"line":320,"column":4},"end":{"line":327,"column":6}},"256":{"start":{"line":321,"column":20},"end":{"line":321,"column":24}},"257":{"start":{"line":322,"column":8},"end":{"line":326,"column":11}},"258":{"start":{"line":323,"column":33},"end":{"line":323,"column":49}},"259":{"start":{"line":324,"column":12},"end":{"line":324,"column":86}},"260":{"start":{"line":325,"column":12},"end":{"line":325,"column":142}},"261":{"start":{"line":328,"column":4},"end":{"line":347,"column":6}},"262":{"start":{"line":329,"column":20},"end":{"line":329,"column":24}},"263":{"start":{"line":331,"column":8},"end":{"line":337,"column":10}},"264":{"start":{"line":332,"column":12},"end":{"line":333,"column":23}},"265":{"start":{"line":333,"column":16},"end":{"line":333,"column":23}},"266":{"start":{"line":334,"column":12},"end":{"line":334,"column":105}},"267":{"start":{"line":335,"column":12},"end":{"line":335,"column":108}},"268":{"start":{"line":336,"column":12},"end":{"line":336,"column":22}},"269":{"start":{"line":338,"column":8},"end":{"line":344,"column":10}},"270":{"start":{"line":339,"column":12},"end":{"line":340,"column":23}},"271":{"start":{"line":340,"column":16},"end":{"line":340,"column":23}},"272":{"start":{"line":341,"column":12},"end":{"line":341,"column":105}},"273":{"start":{"line":342,"column":12},"end":{"line":342,"column":108}},"274":{"start":{"line":343,"column":12},"end":{"line":343,"column":21}},"275":{"start":{"line":345,"column":8},"end":{"line":345,"column":97}},"276":{"start":{"line":346,"column":8},"end":{"line":346,"column":100}},"277":{"start":{"line":348,"column":4},"end":{"line":353,"column":6}},"278":{"start":{"line":349,"column":8},"end":{"line":352,"column":9}},"279":{"start":{"line":350,"column":12},"end":{"line":350,"column":40}},"280":{"start":{"line":351,"column":12},"end":{"line":351,"column":37}},"281":{"start":{"line":354,"column":4},"end":{"line":405,"column":6}},"282":{"start":{"line":355,"column":8},"end":{"line":404,"column":11}},"283":{"start":{"line":356,"column":24},"end":{"line":356,"column":28}},"284":{"start":{"line":357,"column":12},"end":{"line":403,"column":15}},"285":{"start":{"line":358,"column":16},"end":{"line":402,"column":24}},"286":{"start":{"line":359,"column":24},"end":{"line":363,"column":25}},"287":{"start":{"line":360,"column":28},"end":{"line":360,"column":108}},"288":{"start":{"line":361,"column":28},"end":{"line":361,"column":37}},"289":{"start":{"line":362,"column":28},"end":{"line":362,"column":35}},"290":{"start":{"line":364,"column":47},"end":{"line":364,"column":135}},"291":{"start":{"line":365,"column":38},"end":{"line":365,"column":77}},"292":{"start":{"line":366,"column":24},"end":{"line":366,"column":102}},"293":{"start":{"line":367,"column":24},"end":{"line":401,"column":27}},"294":{"start":{"line":368,"column":49},"end":{"line":368,"column":65}},"295":{"start":{"line":369,"column":28},"end":{"line":369,"column":70}},"296":{"start":{"line":370,"column":28},"end":{"line":370,"column":80}},"297":{"start":{"line":371,"column":28},"end":{"line":371,"column":95}},"298":{"start":{"line":373,"column":28},"end":{"line":380,"column":30}},"299":{"start":{"line":374,"column":32},"end":{"line":376,"column":33}},"300":{"start":{"line":375,"column":36},"end":{"line":375,"column":43}},"301":{"start":{"line":377,"column":32},"end":{"line":377,"column":122}},"302":{"start":{"line":378,"column":32},"end":{"line":378,"column":124}},"303":{"start":{"line":379,"column":32},"end":{"line":379,"column":42}},"304":{"start":{"line":381,"column":28},"end":{"line":389,"column":30}},"305":{"start":{"line":382,"column":32},"end":{"line":382,"column":72}},"306":{"start":{"line":383,"column":32},"end":{"line":385,"column":33}},"307":{"start":{"line":384,"column":36},"end":{"line":384,"column":43}},"308":{"start":{"line":386,"column":32},"end":{"line":386,"column":122}},"309":{"start":{"line":387,"column":32},"end":{"line":387,"column":124}},"310":{"start":{"line":388,"column":32},"end":{"line":388,"column":41}},"311":{"start":{"line":390,"column":28},"end":{"line":400,"column":29}},"312":{"start":{"line":391,"column":32},"end":{"line":391,"column":102}},"313":{"start":{"line":392,"column":32},"end":{"line":392,"column":104}},"314":{"start":{"line":393,"column":32},"end":{"line":393,"column":60}},"315":{"start":{"line":396,"column":32},"end":{"line":396,"column":122}},"316":{"start":{"line":397,"column":32},"end":{"line":397,"column":124}},"317":{"start":{"line":398,"column":32},"end":{"line":398,"column":53}},"318":{"start":{"line":399,"column":32},"end":{"line":399,"column":41}},"319":{"start":{"line":406,"column":4},"end":{"line":406,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":48},"end":{"line":11,"column":49}},"loc":{"start":{"line":11,"column":73},"end":{"line":37,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":12,"column":30},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":41},"end":{"line":12,"column":83}},"line":12},"9":{"name":"(anonymous_9)","decl":{"start":{"line":13,"column":125},"end":{"line":13,"column":126}},"loc":{"start":{"line":13,"column":136},"end":{"line":13,"column":152}},"line":13},"10":{"name":"verb","decl":{"start":{"line":14,"column":13},"end":{"line":14,"column":17}},"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":70}},"line":14},"11":{"name":"(anonymous_11)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":43},"end":{"line":14,"column":67}},"line":14},"12":{"name":"step","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":17}},"loc":{"start":{"line":15,"column":22},"end":{"line":36,"column":5}},"line":15},"13":{"name":"(anonymous_13)","decl":{"start":{"line":38,"column":52},"end":{"line":38,"column":53}},"loc":{"start":{"line":38,"column":78},"end":{"line":46,"column":1}},"line":38},"14":{"name":"(anonymous_14)","decl":{"start":{"line":53,"column":27},"end":{"line":53,"column":28}},"loc":{"start":{"line":53,"column":39},"end":{"line":65,"column":1}},"line":53},"15":{"name":"SolacePubSubOptions","decl":{"start":{"line":54,"column":13},"end":{"line":54,"column":32}},"loc":{"start":{"line":54,"column":63},"end":{"line":63,"column":5}},"line":54},"16":{"name":"(anonymous_16)","decl":{"start":{"line":67,"column":20},"end":{"line":67,"column":21}},"loc":{"start":{"line":67,"column":32},"end":{"line":194,"column":1}},"line":67},"17":{"name":"SolacePubSub","decl":{"start":{"line":68,"column":13},"end":{"line":68,"column":25}},"loc":{"start":{"line":68,"column":67},"end":{"line":77,"column":5}},"line":68},"18":{"name":"(anonymous_18)","decl":{"start":{"line":78,"column":43},"end":{"line":78,"column":44}},"loc":{"start":{"line":78,"column":64},"end":{"line":80,"column":5}},"line":78},"19":{"name":"(anonymous_19)","decl":{"start":{"line":81,"column":42},"end":{"line":81,"column":43}},"loc":{"start":{"line":81,"column":84},"end":{"line":83,"column":5}},"line":81},"20":{"name":"(anonymous_20)","decl":{"start":{"line":84,"column":42},"end":{"line":84,"column":43}},"loc":{"start":{"line":84,"column":72},"end":{"line":86,"column":5}},"line":84},"21":{"name":"(anonymous_21)","decl":{"start":{"line":87,"column":35},"end":{"line":87,"column":36}},"loc":{"start":{"line":87,"column":47},"end":{"line":103,"column":5}},"line":87},"22":{"name":"(anonymous_22)","decl":{"start":{"line":93,"column":22},"end":{"line":93,"column":23}},"loc":{"start":{"line":93,"column":38},"end":{"line":95,"column":13}},"line":93},"23":{"name":"(anonymous_23)","decl":{"start":{"line":96,"column":23},"end":{"line":96,"column":24}},"loc":{"start":{"line":96,"column":38},"end":{"line":98,"column":13}},"line":96},"24":{"name":"(anonymous_24)","decl":{"start":{"line":104,"column":39},"end":{"line":104,"column":40}},"loc":{"start":{"line":104,"column":58},"end":{"line":127,"column":5}},"line":104},"25":{"name":"(anonymous_25)","decl":{"start":{"line":107,"column":20},"end":{"line":107,"column":21}},"loc":{"start":{"line":107,"column":35},"end":{"line":107,"column":108}},"line":107},"26":{"name":"(anonymous_26)","decl":{"start":{"line":108,"column":17},"end":{"line":108,"column":18}},"loc":{"start":{"line":108,"column":32},"end":{"line":108,"column":66}},"line":108},"27":{"name":"(anonymous_27)","decl":{"start":{"line":115,"column":29},"end":{"line":115,"column":30}},"loc":{"start":{"line":115,"column":45},"end":{"line":122,"column":13}},"line":115},"28":{"name":"(anonymous_28)","decl":{"start":{"line":128,"column":27},"end":{"line":128,"column":28}},"loc":{"start":{"line":128,"column":53},"end":{"line":142,"column":5}},"line":128},"29":{"name":"(anonymous_29)","decl":{"start":{"line":143,"column":37},"end":{"line":143,"column":38}},"loc":{"start":{"line":143,"column":69},"end":{"line":145,"column":5}},"line":143},"30":{"name":"(anonymous_30)","decl":{"start":{"line":146,"column":39},"end":{"line":146,"column":40}},"loc":{"start":{"line":146,"column":73},"end":{"line":168,"column":5}},"line":146},"31":{"name":"(anonymous_31)","decl":{"start":{"line":157,"column":31},"end":{"line":157,"column":32}},"loc":{"start":{"line":157,"column":58},"end":{"line":166,"column":13}},"line":157},"32":{"name":"(anonymous_32)","decl":{"start":{"line":160,"column":26},"end":{"line":160,"column":27}},"loc":{"start":{"line":160,"column":38},"end":{"line":164,"column":17}},"line":160},"33":{"name":"(anonymous_33)","decl":{"start":{"line":165,"column":27},"end":{"line":165,"column":28}},"loc":{"start":{"line":165,"column":42},"end":{"line":165,"column":65}},"line":165},"34":{"name":"(anonymous_34)","decl":{"start":{"line":169,"column":41},"end":{"line":169,"column":42}},"loc":{"start":{"line":169,"column":58},"end":{"line":189,"column":5}},"line":169},"35":{"name":"(anonymous_35)","decl":{"start":{"line":177,"column":76},"end":{"line":177,"column":77}},"loc":{"start":{"line":177,"column":88},"end":{"line":179,"column":13}},"line":177},"36":{"name":"(anonymous_36)","decl":{"start":{"line":190,"column":43},"end":{"line":190,"column":44}},"loc":{"start":{"line":190,"column":63},"end":{"line":192,"column":5}},"line":190},"37":{"name":"(anonymous_37)","decl":{"start":{"line":196,"column":20},"end":{"line":196,"column":21}},"loc":{"start":{"line":196,"column":32},"end":{"line":407,"column":1}},"line":196},"38":{"name":"SolaceClient","decl":{"start":{"line":197,"column":13},"end":{"line":197,"column":25}},"loc":{"start":{"line":197,"column":65},"end":{"line":206,"column":5}},"line":197},"39":{"name":"(anonymous_39)","decl":{"start":{"line":207,"column":37},"end":{"line":207,"column":38}},"loc":{"start":{"line":207,"column":49},"end":{"line":257,"column":5}},"line":207},"40":{"name":"(anonymous_40)","decl":{"start":{"line":209,"column":27},"end":{"line":209,"column":28}},"loc":{"start":{"line":209,"column":54},"end":{"line":256,"column":9}},"line":209},"41":{"name":"(anonymous_41)","decl":{"start":{"line":234,"column":68},"end":{"line":234,"column":69}},"loc":{"start":{"line":234,"column":92},"end":{"line":237,"column":17}},"line":234},"42":{"name":"(anonymous_42)","decl":{"start":{"line":238,"column":79},"end":{"line":238,"column":80}},"loc":{"start":{"line":238,"column":103},"end":{"line":241,"column":17}},"line":238},"43":{"name":"(anonymous_43)","decl":{"start":{"line":242,"column":71},"end":{"line":242,"column":72}},"loc":{"start":{"line":242,"column":95},"end":{"line":248,"column":17}},"line":242},"44":{"name":"(anonymous_44)","decl":{"start":{"line":258,"column":40},"end":{"line":258,"column":41}},"loc":{"start":{"line":258,"column":52},"end":{"line":271,"column":5}},"line":258},"45":{"name":"(anonymous_45)","decl":{"start":{"line":272,"column":46},"end":{"line":272,"column":47}},"loc":{"start":{"line":272,"column":67},"end":{"line":311,"column":5}},"line":272},"46":{"name":"(anonymous_46)","decl":{"start":{"line":286,"column":76},"end":{"line":286,"column":77}},"loc":{"start":{"line":286,"column":88},"end":{"line":288,"column":17}},"line":286},"47":{"name":"(anonymous_47)","decl":{"start":{"line":289,"column":94},"end":{"line":289,"column":95}},"loc":{"start":{"line":289,"column":106},"end":{"line":291,"column":17}},"line":289},"48":{"name":"(anonymous_48)","decl":{"start":{"line":292,"column":78},"end":{"line":292,"column":79}},"loc":{"start":{"line":292,"column":90},"end":{"line":294,"column":17}},"line":292},"49":{"name":"(anonymous_49)","decl":{"start":{"line":295,"column":84},"end":{"line":295,"column":85}},"loc":{"start":{"line":295,"column":96},"end":{"line":297,"column":17}},"line":295},"50":{"name":"(anonymous_50)","decl":{"start":{"line":298,"column":81},"end":{"line":298,"column":82}},"loc":{"start":{"line":298,"column":100},"end":{"line":301,"column":17}},"line":298},"51":{"name":"(anonymous_51)","decl":{"start":{"line":312,"column":52},"end":{"line":312,"column":53}},"loc":{"start":{"line":312,"column":81},"end":{"line":319,"column":5}},"line":312},"52":{"name":"(anonymous_52)","decl":{"start":{"line":314,"column":27},"end":{"line":314,"column":28}},"loc":{"start":{"line":314,"column":54},"end":{"line":318,"column":9}},"line":314},"53":{"name":"(anonymous_53)","decl":{"start":{"line":320,"column":57},"end":{"line":320,"column":58}},"loc":{"start":{"line":320,"column":86},"end":{"line":327,"column":5}},"line":320},"54":{"name":"(anonymous_54)","decl":{"start":{"line":322,"column":27},"end":{"line":322,"column":28}},"loc":{"start":{"line":322,"column":54},"end":{"line":326,"column":9}},"line":322},"55":{"name":"(anonymous_55)","decl":{"start":{"line":328,"column":64},"end":{"line":328,"column":65}},"loc":{"start":{"line":328,"column":107},"end":{"line":347,"column":5}},"line":328},"56":{"name":"(anonymous_56)","decl":{"start":{"line":331,"column":16},"end":{"line":331,"column":17}},"loc":{"start":{"line":331,"column":31},"end":{"line":337,"column":9}},"line":331},"57":{"name":"(anonymous_57)","decl":{"start":{"line":338,"column":16},"end":{"line":338,"column":17}},"loc":{"start":{"line":338,"column":31},"end":{"line":344,"column":9}},"line":338},"58":{"name":"(anonymous_58)","decl":{"start":{"line":348,"column":50},"end":{"line":348,"column":51}},"loc":{"start":{"line":348,"column":71},"end":{"line":353,"column":5}},"line":348},"59":{"name":"(anonymous_59)","decl":{"start":{"line":354,"column":44},"end":{"line":354,"column":45}},"loc":{"start":{"line":354,"column":70},"end":{"line":405,"column":5}},"line":354},"60":{"name":"(anonymous_60)","decl":{"start":{"line":355,"column":47},"end":{"line":355,"column":48}},"loc":{"start":{"line":355,"column":59},"end":{"line":404,"column":9}},"line":355},"61":{"name":"(anonymous_61)","decl":{"start":{"line":357,"column":37},"end":{"line":357,"column":38}},"loc":{"start":{"line":357,"column":51},"end":{"line":403,"column":13}},"line":357},"62":{"name":"(anonymous_62)","decl":{"start":{"line":358,"column":39},"end":{"line":358,"column":40}},"loc":{"start":{"line":358,"column":66},"end":{"line":402,"column":21}},"line":358},"63":{"name":"(anonymous_63)","decl":{"start":{"line":367,"column":46},"end":{"line":367,"column":47}},"loc":{"start":{"line":367,"column":64},"end":{"line":401,"column":25}},"line":367},"64":{"name":"(anonymous_64)","decl":{"start":{"line":373,"column":36},"end":{"line":373,"column":37}},"loc":{"start":{"line":373,"column":51},"end":{"line":380,"column":29}},"line":373},"65":{"name":"(anonymous_65)","decl":{"start":{"line":381,"column":36},"end":{"line":381,"column":37}},"loc":{"start":{"line":381,"column":51},"end":{"line":389,"column":29}},"line":381}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":18},"end":{"line":37,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":19},"end":{"line":11,"column":23}},{"start":{"line":11,"column":27},"end":{"line":11,"column":43}},{"start":{"line":11,"column":48},"end":{"line":37,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},"type":"if","locations":[{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},{"start":{"line":12,"column":43},"end":{"line":12,"column":68}}],"line":12},"7":{"loc":{"start":{"line":13,"column":71},"end":{"line":13,"column":153}},"type":"binary-expr","locations":[{"start":{"line":13,"column":71},"end":{"line":13,"column":99}},{"start":{"line":13,"column":104},"end":{"line":13,"column":152}}],"line":13},"8":{"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},{"start":{"line":16,"column":8},"end":{"line":16,"column":70}}],"line":16},"9":{"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":45}},"type":"binary-expr","locations":[{"start":{"line":17,"column":15},"end":{"line":17,"column":16}},{"start":{"line":17,"column":21},"end":{"line":17,"column":44}}],"line":17},"10":{"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":44}},"type":"binary-expr","locations":[{"start":{"line":17,"column":28},"end":{"line":17,"column":33}},{"start":{"line":17,"column":38},"end":{"line":17,"column":43}}],"line":17},"11":{"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},{"start":{"line":18,"column":12},"end":{"line":18,"column":169}}],"line":18},"12":{"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":158}},"type":"binary-expr","locations":[{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},{"start":{"line":18,"column":29},"end":{"line":18,"column":125}},{"start":{"line":18,"column":130},"end":{"line":18,"column":158}}],"line":18},"13":{"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":125}},"type":"cond-expr","locations":[{"start":{"line":18,"column":45},"end":{"line":18,"column":56}},{"start":{"line":18,"column":59},"end":{"line":18,"column":125}}],"line":18},"14":{"loc":{"start":{"line":18,"column":59},"end":{"line":18,"column":125}},"type":"cond-expr","locations":[{"start":{"line":18,"column":67},"end":{"line":18,"column":116}},{"start":{"line":18,"column":119},"end":{"line":18,"column":125}}],"line":18},"15":{"loc":{"start":{"line":18,"column":67},"end":{"line":18,"column":116}},"type":"binary-expr","locations":[{"start":{"line":18,"column":67},"end":{"line":18,"column":77}},{"start":{"line":18,"column":82},"end":{"line":18,"column":115}}],"line":18},"16":{"loc":{"start":{"line":18,"column":82},"end":{"line":18,"column":112}},"type":"binary-expr","locations":[{"start":{"line":18,"column":83},"end":{"line":18,"column":98}},{"start":{"line":18,"column":103},"end":{"line":18,"column":112}}],"line":18},"17":{"loc":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},{"start":{"line":19,"column":12},"end":{"line":19,"column":52}}],"line":19},"18":{"loc":{"start":{"line":20,"column":12},"end":{"line":32,"column":13}},"type":"switch","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":23}},{"start":{"line":21,"column":24},"end":{"line":21,"column":46}},{"start":{"line":22,"column":16},"end":{"line":22,"column":72}},{"start":{"line":23,"column":16},"end":{"line":23,"column":65}},{"start":{"line":24,"column":16},"end":{"line":24,"column":65}},{"start":{"line":25,"column":16},"end":{"line":31,"column":43}}],"line":20},"19":{"loc":{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},"type":"if","locations":[{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},{"start":{"line":26,"column":20},"end":{"line":26,"column":128}}],"line":26},"20":{"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":106}},"type":"binary-expr","locations":[{"start":{"line":26,"column":24},"end":{"line":26,"column":74}},{"start":{"line":26,"column":79},"end":{"line":26,"column":90}},{"start":{"line":26,"column":94},"end":{"line":26,"column":105}}],"line":26},"21":{"loc":{"start":{"line":26,"column":42},"end":{"line":26,"column":73}},"type":"binary-expr","locations":[{"start":{"line":26,"column":42},"end":{"line":26,"column":54}},{"start":{"line":26,"column":58},"end":{"line":26,"column":73}}],"line":26},"22":{"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},"type":"if","locations":[{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},{"start":{"line":27,"column":20},"end":{"line":27,"column":106}}],"line":27},"23":{"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":77}},"type":"binary-expr","locations":[{"start":{"line":27,"column":24},"end":{"line":27,"column":35}},{"start":{"line":27,"column":40},"end":{"line":27,"column":42}},{"start":{"line":27,"column":47},"end":{"line":27,"column":59}},{"start":{"line":27,"column":63},"end":{"line":27,"column":75}}],"line":27},"24":{"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},"type":"if","locations":[{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},{"start":{"line":28,"column":20},"end":{"line":28,"column":89}}],"line":28},"25":{"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":53}},"type":"binary-expr","locations":[{"start":{"line":28,"column":24},"end":{"line":28,"column":35}},{"start":{"line":28,"column":39},"end":{"line":28,"column":53}}],"line":28},"26":{"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},"type":"if","locations":[{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},{"start":{"line":29,"column":20},"end":{"line":29,"column":87}}],"line":29},"27":{"loc":{"start":{"line":29,"column":24},"end":{"line":29,"column":43}},"type":"binary-expr","locations":[{"start":{"line":29,"column":24},"end":{"line":29,"column":25}},{"start":{"line":29,"column":29},"end":{"line":29,"column":43}}],"line":29},"28":{"loc":{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},"type":"if","locations":[{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},{"start":{"line":30,"column":20},"end":{"line":30,"column":42}}],"line":30},"29":{"loc":{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},{"start":{"line":35,"column":8},"end":{"line":35,"column":35}}],"line":35},"30":{"loc":{"start":{"line":35,"column":52},"end":{"line":35,"column":74}},"type":"cond-expr","locations":[{"start":{"line":35,"column":60},"end":{"line":35,"column":65}},{"start":{"line":35,"column":68},"end":{"line":35,"column":74}}],"line":35},"31":{"loc":{"start":{"line":38,"column":20},"end":{"line":46,"column":1}},"type":"binary-expr","locations":[{"start":{"line":38,"column":21},"end":{"line":38,"column":25}},{"start":{"line":38,"column":29},"end":{"line":38,"column":47}},{"start":{"line":38,"column":52},"end":{"line":46,"column":1}}],"line":38},"32":{"loc":{"start":{"line":39,"column":4},"end":{"line":44,"column":5}},"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":44,"column":5}},{"start":{"line":39,"column":4},"end":{"line":44,"column":5}}],"line":39},"33":{"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":38}},"type":"binary-expr","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":12}},{"start":{"line":39,"column":16},"end":{"line":39,"column":38}}],"line":39},"34":{"loc":{"start":{"line":40,"column":8},"end":{"line":43,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":43,"column":9}},{"start":{"line":40,"column":8},"end":{"line":43,"column":9}}],"line":40},"35":{"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":30}},"type":"binary-expr","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":14}},{"start":{"line":40,"column":18},"end":{"line":40,"column":30}}],"line":40},"36":{"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":65}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":41,"column":65}},{"start":{"line":41,"column":12},"end":{"line":41,"column":65}}],"line":41},"37":{"loc":{"start":{"line":45,"column":21},"end":{"line":45,"column":59}},"type":"binary-expr","locations":[{"start":{"line":45,"column":21},"end":{"line":45,"column":23}},{"start":{"line":45,"column":27},"end":{"line":45,"column":59}}],"line":45},"38":{"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":60}},"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":60}},{"start":{"line":55,"column":8},"end":{"line":55,"column":60}}],"line":55},"39":{"loc":{"start":{"line":56,"column":8},"end":{"line":56,"column":56}},"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":56}},{"start":{"line":56,"column":8},"end":{"line":56,"column":56}}],"line":56},"40":{"loc":{"start":{"line":57,"column":8},"end":{"line":57,"column":50}},"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":50}},{"start":{"line":57,"column":8},"end":{"line":57,"column":50}}],"line":57},"41":{"loc":{"start":{"line":58,"column":8},"end":{"line":58,"column":58}},"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":58}},{"start":{"line":58,"column":8},"end":{"line":58,"column":58}}],"line":58},"42":{"loc":{"start":{"line":74,"column":8},"end":{"line":75,"column":65}},"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":75,"column":65}},{"start":{"line":74,"column":8},"end":{"line":75,"column":65}}],"line":74},"43":{"loc":{"start":{"line":74,"column":12},"end":{"line":74,"column":68}},"type":"binary-expr","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":32}},{"start":{"line":74,"column":36},"end":{"line":74,"column":68}}],"line":74},"44":{"loc":{"start":{"line":90,"column":8},"end":{"line":102,"column":9}},"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":102,"column":9}},{"start":{"line":90,"column":8},"end":{"line":102,"column":9}}],"line":90},"45":{"loc":{"start":{"line":109,"column":8},"end":{"line":111,"column":9}},"type":"if","locations":[{"start":{"line":109,"column":8},"end":{"line":111,"column":9}},{"start":{"line":109,"column":8},"end":{"line":111,"column":9}}],"line":109},"46":{"loc":{"start":{"line":109,"column":12},"end":{"line":109,"column":47}},"type":"binary-expr","locations":[{"start":{"line":109,"column":12},"end":{"line":109,"column":24}},{"start":{"line":109,"column":28},"end":{"line":109,"column":47}}],"line":109},"47":{"loc":{"start":{"line":131,"column":8},"end":{"line":132,"column":82}},"type":"if","locations":[{"start":{"line":131,"column":8},"end":{"line":132,"column":82}},{"start":{"line":131,"column":8},"end":{"line":132,"column":82}}],"line":131},"48":{"loc":{"start":{"line":134,"column":8},"end":{"line":140,"column":9}},"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":140,"column":9}},{"start":{"line":134,"column":8},"end":{"line":140,"column":9}}],"line":134},"49":{"loc":{"start":{"line":134,"column":12},"end":{"line":134,"column":41}},"type":"binary-expr","locations":[{"start":{"line":134,"column":12},"end":{"line":134,"column":19}},{"start":{"line":134,"column":23},"end":{"line":134,"column":41}}],"line":134},"50":{"loc":{"start":{"line":136,"column":12},"end":{"line":139,"column":13}},"type":"if","locations":[{"start":{"line":136,"column":12},"end":{"line":139,"column":13}},{"start":{"line":136,"column":12},"end":{"line":139,"column":13}}],"line":136},"51":{"loc":{"start":{"line":137,"column":16},"end":{"line":138,"column":36}},"type":"if","locations":[{"start":{"line":137,"column":16},"end":{"line":138,"column":36}},{"start":{"line":137,"column":16},"end":{"line":138,"column":36}}],"line":137},"52":{"loc":{"start":{"line":151,"column":8},"end":{"line":167,"column":9}},"type":"if","locations":[{"start":{"line":151,"column":8},"end":{"line":167,"column":9}},{"start":{"line":151,"column":8},"end":{"line":167,"column":9}}],"line":151},"53":{"loc":{"start":{"line":151,"column":12},"end":{"line":151,"column":35}},"type":"binary-expr","locations":[{"start":{"line":151,"column":12},"end":{"line":151,"column":16}},{"start":{"line":151,"column":20},"end":{"line":151,"column":35}}],"line":151},"54":{"loc":{"start":{"line":161,"column":42},"end":{"line":161,"column":78}},"type":"binary-expr","locations":[{"start":{"line":161,"column":42},"end":{"line":161,"column":72}},{"start":{"line":161,"column":76},"end":{"line":161,"column":78}}],"line":161},"55":{"loc":{"start":{"line":170,"column":18},"end":{"line":170,"column":51}},"type":"binary-expr","locations":[{"start":{"line":170,"column":18},"end":{"line":170,"column":45}},{"start":{"line":170,"column":49},"end":{"line":170,"column":51}}],"line":170},"56":{"loc":{"start":{"line":170,"column":71},"end":{"line":170,"column":96}},"type":"cond-expr","locations":[{"start":{"line":170,"column":87},"end":{"line":170,"column":91}},{"start":{"line":170,"column":94},"end":{"line":170,"column":96}}],"line":170},"57":{"loc":{"start":{"line":172,"column":8},"end":{"line":174,"column":9}},"type":"if","locations":[{"start":{"line":172,"column":8},"end":{"line":174,"column":9}},{"start":{"line":172,"column":8},"end":{"line":174,"column":9}}],"line":172},"58":{"loc":{"start":{"line":176,"column":8},"end":{"line":186,"column":9}},"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":186,"column":9}},{"start":{"line":176,"column":8},"end":{"line":186,"column":9}}],"line":176},"59":{"loc":{"start":{"line":183,"column":12},"end":{"line":185,"column":13}},"type":"if","locations":[{"start":{"line":183,"column":12},"end":{"line":185,"column":13}},{"start":{"line":183,"column":12},"end":{"line":185,"column":13}}],"line":183},"60":{"loc":{"start":{"line":210,"column":12},"end":{"line":255,"column":13}},"type":"if","locations":[{"start":{"line":210,"column":12},"end":{"line":255,"column":13}},{"start":{"line":210,"column":12},"end":{"line":255,"column":13}}],"line":210},"61":{"loc":{"start":{"line":215,"column":20},"end":{"line":218,"column":21}},"type":"if","locations":[{"start":{"line":215,"column":20},"end":{"line":218,"column":21}},{"start":{"line":215,"column":20},"end":{"line":218,"column":21}}],"line":215},"62":{"loc":{"start":{"line":244,"column":20},"end":{"line":247,"column":21}},"type":"if","locations":[{"start":{"line":244,"column":20},"end":{"line":247,"column":21}},{"start":{"line":244,"column":20},"end":{"line":247,"column":21}}],"line":244},"63":{"loc":{"start":{"line":260,"column":8},"end":{"line":270,"column":9}},"type":"if","locations":[{"start":{"line":260,"column":8},"end":{"line":270,"column":9}},{"start":{"line":260,"column":8},"end":{"line":270,"column":9}}],"line":260},"64":{"loc":{"start":{"line":274,"column":8},"end":{"line":310,"column":9}},"type":"if","locations":[{"start":{"line":274,"column":8},"end":{"line":310,"column":9}},{"start":{"line":274,"column":8},"end":{"line":310,"column":9}}],"line":274},"65":{"loc":{"start":{"line":278,"column":12},"end":{"line":309,"column":13}},"type":"if","locations":[{"start":{"line":278,"column":12},"end":{"line":309,"column":13}},{"start":{"line":278,"column":12},"end":{"line":309,"column":13}}],"line":278},"66":{"loc":{"start":{"line":332,"column":12},"end":{"line":333,"column":23}},"type":"if","locations":[{"start":{"line":332,"column":12},"end":{"line":333,"column":23}},{"start":{"line":332,"column":12},"end":{"line":333,"column":23}}],"line":332},"67":{"loc":{"start":{"line":339,"column":12},"end":{"line":340,"column":23}},"type":"if","locations":[{"start":{"line":339,"column":12},"end":{"line":340,"column":23}},{"start":{"line":339,"column":12},"end":{"line":340,"column":23}}],"line":339},"68":{"loc":{"start":{"line":349,"column":8},"end":{"line":352,"column":9}},"type":"if","locations":[{"start":{"line":349,"column":8},"end":{"line":352,"column":9}},{"start":{"line":349,"column":8},"end":{"line":352,"column":9}}],"line":349},"69":{"loc":{"start":{"line":359,"column":24},"end":{"line":363,"column":25}},"type":"if","locations":[{"start":{"line":359,"column":24},"end":{"line":363,"column":25}},{"start":{"line":359,"column":24},"end":{"line":363,"column":25}}],"line":359},"70":{"loc":{"start":{"line":374,"column":32},"end":{"line":376,"column":33}},"type":"if","locations":[{"start":{"line":374,"column":32},"end":{"line":376,"column":33}},{"start":{"line":374,"column":32},"end":{"line":376,"column":33}}],"line":374},"71":{"loc":{"start":{"line":383,"column":32},"end":{"line":385,"column":33}},"type":"if","locations":[{"start":{"line":383,"column":32},"end":{"line":385,"column":33}},{"start":{"line":383,"column":32},"end":{"line":385,"column":33}}],"line":383}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0,0,0,0],"19":[0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0,0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[1,1,1],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/solace-pubsub.ts","sources":["/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/solace-pubsub.ts"],"names":[],"mappings":"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","sourcesContent":["import { PubSubEngine } from 'graphql-subscriptions/dist/pubsub-engine';\nimport { PubSubAsyncIterator } from './pubsub-async-iterator';\nimport * as solace from 'solclientjs';\nimport { v4 as uuidv4 } from 'uuid';\nimport Blob from 'cross-blob';\n\n/**\n * The SolacePubSubOptions is a convenience class that specifies the configuration object for Solace\n */\nexport class SolacePubSubOptions {\n  url: string;\n  vpnName: string;\n  userName: string;\n  password: string;\n\n  constructor(url: string = 'ws://127.0.0.1:8008', vpnName: string = 'default', user: string = 'default', password: string = 'default') {\n    this.url = url;\n    this.vpnName = vpnName;\n    this.userName = user;\n    this.password = password;\n  }\n}\n\nexport class SolacePubSub implements PubSubEngine {\n  private solaceClient: SolaceClient;\n  private solacePubSubOptions: SolacePubSubOptions;\n  private session: solace.Session;\n\n  private queueName: string;\n  private subscriptionMap: { [subId: number]: [string, Function] };\n  private subsRefsMap: { [trigger: string]: Array<number> };\n  private currentSubscriptionId: number;\n\n  private constructor(queueName: string, solacePubSubOptions?: SolacePubSubOptions, session?: solace.Session) {\n    this.queueName = queueName;\n    this.subscriptionMap = {};\n    this.subsRefsMap = {};\n    this.currentSubscriptionId = 0;\n    this.session = session;\n    if (session == undefined && solacePubSubOptions == undefined) this.solacePubSubOptions = new SolacePubSubOptions();\n    this.start();\n  }\n\n  static startWithDefaultOptions(queueName: string) {\n    return new SolacePubSub(queueName);\n  }\n\n  static startWithSolaceOptions(queueName: string, solacePubSubOptions: SolacePubSubOptions) {\n    return new SolacePubSub(queueName, solacePubSubOptions);\n  }\n\n  static startWithSolaceSession(queueName: string, session: solace.Session) {\n    return new SolacePubSub(queueName, null, session);\n  }\n\n  private start() {\n    //Instantiate a new SolaceClient\n    this.solaceClient = new SolaceClient(this.onMessage.bind(this), this.session, this.solacePubSubOptions);\n\n    //If the session is null, then the user didn't provide one so try to instantiate one yourself\n    if (this.session == null) {\n      this.solaceClient\n        .connect()\n        .then((info: string) => {\n          this.solaceClient.consumeFromQueue(this.queueName);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    } else {\n      this.solaceClient.consumeFromQueue(this.queueName);\n    }\n  }\n\n  private onMessage(message: solace.Message) {\n    const subscribers = [].concat(\n      ...Object.keys(this.subsRefsMap)\n        .filter((key) => SolacePubSub.matches(key, message.getDestination().getName()))\n        .map((key) => this.subsRefsMap[key])\n    );\n\n    // Don't work for nothing..\n    if (!subscribers || !subscribers.length) {\n      return;\n    }\n\n    const messageString = message.getBinaryAttachment();\n    try {\n      const blob = new Blob([message.getBinaryAttachment()], { type: 'text/plain; charset=utf-8' });\n      blob.text().then((text) => {\n        let json = JSON.parse(text);\n        for (const subId of subscribers) {\n          const listener = this.subscriptionMap[subId][1];\n          listener(json);\n        }\n      });\n    } catch (e) {\n      console.error('Unable to parse message received from queue');\n    }\n  }\n\n  /**\n   * Convenience function to match a topic subscription against an actual topic\n   * @param pattern Topic subscription\n   * @param topic topic from the message\n   * @returns whether the topic filter matches the subscription\n   */\n  private static matches(pattern: string, topic: string): boolean {\n    let isMatch = false;\n\n    //Replace all * in the topic filter with a .* to make it regex compatible\n    let regexdSub = pattern.replace(/\\*/g, '.*');\n\n    //if the last character is a '>', replace it with a .* to make it regex compatible\n    if (pattern.lastIndexOf('>') == pattern.length - 1) regexdSub = regexdSub.substring(0, regexdSub.length - 1).concat('.*');\n\n    let matched = topic.match(regexdSub);\n\n    //if the matched index starts at 0, then the topic is a match with the topic filter\n    if (matched && matched.index == 0) {\n      isMatch = true;\n      //Edge case if the pattern is a match but the last character is a *\n      if (regexdSub.lastIndexOf('*') == pattern.length - 1) {\n        //Check if the number of topic sections are equal\n        if (regexdSub.split('/').length != topic.split('/').length) isMatch = false;\n      }\n    }\n    return isMatch;\n  }\n\n  publish(triggerName: string, payload: any): Promise<void> {\n    return this.solaceClient.publishMessage(triggerName, JSON.stringify(payload));\n  }\n\n  subscribe(triggerName: string, onMessage: Function): Promise<number> {\n    const id = this.currentSubscriptionId++;\n    this.subscriptionMap[id] = [triggerName, onMessage];\n\n    let refs = this.subsRefsMap[triggerName];\n    if (refs && refs.length > 0) {\n      const newRefs = [...refs, id];\n      this.subsRefsMap[triggerName] = newRefs;\n      return Promise.resolve(id);\n    } else {\n      return new Promise<number>((resolve, reject) => {\n        // 1. Subscribing using the Solace Client\n        this.solaceClient\n          .addSubscriptionToQueue(triggerName)\n          .then(() => {\n            // 2. Saving the new sub id\n            const subscriptionIds = this.subsRefsMap[triggerName] || [];\n            this.subsRefsMap[triggerName] = [...subscriptionIds, id];\n\n            // 3. Resolving the subscriptions id to the Subscription Manager\n            resolve(id);\n          })\n          .catch((err) => reject(err));\n      });\n    }\n  }\n  unsubscribe(subId: number) {\n    const [triggerName = null] = this.subscriptionMap[subId] || [];\n    const refs = this.subsRefsMap[triggerName];\n\n    if (!refs) {\n      throw new Error(`There is no subscription of id \"${subId}\"`);\n    }\n\n    let newRefs;\n    if (refs.length === 1) {\n      this.solaceClient.removeSubscriptionFromQueue(triggerName).then(() => {\n        newRefs = [];\n      });\n    } else {\n      const index = refs.indexOf(subId);\n      if (index > -1) {\n        newRefs = [...refs.slice(0, index), ...refs.slice(index + 1)];\n      }\n    }\n\n    this.subsRefsMap[triggerName] = newRefs;\n    delete this.subscriptionMap[subId];\n  }\n  asyncIterator<T>(triggers: string | string[]): AsyncIterator<T, any, undefined> {\n    return new PubSubAsyncIterator<T>(this, triggers);\n  }\n}\n\n//Convenience wrapper class to simplify Solace operations\nclass SolaceClient {\n  //Solace session object\n  private session: solace.Session = null;\n\n  private solaceConfig: SolacePubSubOptions;\n\n  private messageConsumer: solace.MessageConsumer;\n  private queueConsumerCallback: any;\n  private isConsuming = false;\n\n  constructor(callback: any, session?: solace.Session, solaceClientConfig?: SolacePubSubOptions) {\n    //Initializing the solace client library\n    let factoryProps = new solace.SolclientFactoryProperties();\n    factoryProps.profile = solace.SolclientFactoryProfiles.version10;\n    solace.SolclientFactory.init(factoryProps);\n    this.session = session;\n    this.solaceConfig = solaceClientConfig;\n\n    this.queueConsumerCallback = callback;\n  }\n  /**\n   * Asynchronous function that connects to the Solace Broker and returns a promise.\n   * Only required if a session isn't passed directly to this class\n   */\n  connect(): Promise<string> {\n    return new Promise((resolve, reject) => {\n      if (this.session != undefined) {\n        console.warn('Already connected and ready to subscribe.');\n      } else {\n        // if there's no session, create one with the properties imported from the game-config file\n        try {\n          if (this.solaceConfig.url.indexOf('ws') != 0) {\n            reject('HostUrl must be the WebMessaging Endpoint that begins with either ws:// or wss://. Please check your game-config.ts!');\n            return;\n          }\n\n          this.session = solace.SolclientFactory.createSession({\n            url: this.solaceConfig.url,\n            vpnName: this.solaceConfig.vpnName,\n            userName: this.solaceConfig.userName,\n            password: this.solaceConfig.password,\n            connectRetries: 3,\n            publisherProperties: {\n              enabled: true,\n              acknowledgeMode: solace.MessagePublisherAcknowledgeMode.PER_MESSAGE,\n            },\n          });\n        } catch (error) {\n          console.error(error.toString());\n        }\n        // define session event listeners\n\n        //The UP_NOTICE dictates whether the session has been established\n        this.session.on(solace.SessionEventCode.UP_NOTICE, (sessionEvent: solace.SessionEvent) => {\n          console.info('=== Successfully connected and ready to subscribe. ===');\n          resolve('Connected');\n        });\n\n        //The CONNECT_FAILED_ERROR implies a connection failure\n        this.session.on(solace.SessionEventCode.CONNECT_FAILED_ERROR, (sessionEvent: solace.SessionEvent) => {\n          console.error('Connection failed to the message router: ' + sessionEvent.infoStr + ' - check correct parameter values and connectivity!');\n          reject(`Check your connection settings and try again!`);\n        });\n\n        //DISCONNECTED implies the client was disconnected\n        this.session.on(solace.SessionEventCode.DISCONNECTED, (sessionEvent: solace.SessionEvent) => {\n          console.info('Disconnected.');\n          if (this.session !== null) {\n            this.session.dispose();\n            this.session = null;\n          }\n        });\n\n        // connect the session\n        try {\n          this.session.connect();\n        } catch (error) {\n          console.info(error.toString());\n        }\n      }\n    });\n  }\n\n  disconnect() {\n    console.info('Disconnecting from Solace message router...');\n    if (this.session !== null) {\n      try {\n        this.session.disconnect();\n      } catch (error) {\n        console.error(error.toString());\n      }\n    } else {\n      console.error('Not connected to Solace message router.');\n    }\n  }\n\n  /**\n   * Convenience function to consume from a queue\n   *\n   * @param queueName Name of the queue to consume from\n   * @param callback The callback function for the message receipt\n   */\n  consumeFromQueue(queueName: string) {\n    if (this.session == null) {\n      console.error('Not connected to Solace!');\n    } else {\n      if (this.isConsuming) console.warn(`Already connected to the queue ${queueName}`);\n      else {\n        this.messageConsumer = this.session.createMessageConsumer({\n          queueDescriptor: { name: queueName, type: solace.QueueType.QUEUE },\n          acknowledgeMode: solace.MessageConsumerAcknowledgeMode.CLIENT,\n          createIfMissing: true,\n        });\n\n        this.messageConsumer.on(solace.MessageConsumerEventName.UP, () => {\n          console.info('Succesfully connected to and consuming from ' + queueName);\n        });\n\n        this.messageConsumer.on(solace.MessageConsumerEventName.CONNECT_FAILED_ERROR, () => {\n          console.error('Consumer cannot bind to queue ' + queueName);\n        });\n\n        this.messageConsumer.on(solace.MessageConsumerEventName.DOWN, () => {\n          console.error('The message consumer is down');\n        });\n\n        this.messageConsumer.on(solace.MessageConsumerEventName.DOWN_ERROR, () => {\n          console.error('An error happend, the message consumer is down');\n        });\n\n        this.messageConsumer.on(solace.MessageConsumerEventName.MESSAGE, (message: solace.Message) => {\n          this.queueConsumerCallback(message);\n          message.acknowledge();\n        });\n\n        try {\n          this.messageConsumer.connect();\n          this.isConsuming = true;\n        } catch (err) {\n          console.error('Cannot start the message consumer on queue ' + queueName + ' because: ' + err);\n        }\n      }\n    }\n  }\n\n  /**\n   * Function that adds a subscription to a queue\n   * @param topicSubscription - topic subscription string to add to the queue\n   */\n  public addSubscriptionToQueue(topicSubscription: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      let correlationKey = uuidv4();\n      this.resolveRejectSubscriptionFunctions(correlationKey, resolve, reject);\n      this.messageConsumer.addSubscription(solace.SolclientFactory.createTopicDestination(topicSubscription), correlationKey, 1000);\n    });\n  }\n\n  /**\n   * Function that removes a topic subscription from a queue\n   * @param topicSubscription Topic to be removed from the queue\n   */\n  public removeSubscriptionFromQueue(topicSubscription: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      let correlationKey = uuidv4();\n      this.resolveRejectSubscriptionFunctions(correlationKey, resolve, reject);\n      this.messageConsumer.removeSubscription(solace.SolclientFactory.createTopicDestination(topicSubscription), correlationKey, 1000);\n    });\n  }\n\n  /**\n   * Convenience function to resolve or reject subscription actions based on the co-relationkey\n   * @param correlationKey the unique identifier for the subscription action\n   * @param resolve the resolve function\n   * @param reject the reject function\n   */\n  private resolveRejectSubscriptionFunctions(correlationKey: any, resolve: (value: void | PromiseLike<void>) => void, reject: (reason?: any) => void) {\n    let onAck, onNak;\n\n    //The function to be called if the Ack happends\n    onAck = (evt: solace.MessageConsumerEvent) => {\n      if (evt.correlationKey !== correlationKey) return;\n      this.messageConsumer.removeListener(solace.MessageConsumerEventName.SUBSCRIPTION_OK, onAck);\n      this.messageConsumer.removeListener(solace.MessageConsumerEventName.SUBSCRIPTION_ERROR, onNak);\n      resolve();\n    };\n\n    //The function to be called if the action is rejected\n    onNak = (evt: solace.MessageConsumerEvent) => {\n      if (evt.correlationKey !== correlationKey) return;\n      this.messageConsumer.removeListener(solace.MessageConsumerEventName.SUBSCRIPTION_OK, onAck);\n      this.messageConsumer.removeListener(solace.MessageConsumerEventName.SUBSCRIPTION_ERROR, onNak);\n      reject();\n    };\n\n    //Add the relevant events\n    this.messageConsumer.addListener(solace.MessageConsumerEventName.SUBSCRIPTION_OK, onAck);\n    this.messageConsumer.addListener(solace.MessageConsumerEventName.SUBSCRIPTION_ERROR, onNak);\n  }\n\n  /**\n   *\n   * @param queueName Name of the queue to consume from\n   */\n  stopConsumeFromQueue(queueName: string) {\n    if (this.isConsuming) {\n      this.messageConsumer.stop();\n      this.isConsuming = false;\n    }\n  }\n\n  /**\n   * Publish a guaranteed message on a topic\n   * @param topic Topic to publish on\n   * @param payload Payload on the topic\n   */\n  async publishMessage(topic: string, payload: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (!this.session) {\n        console.error('Cannot publish because not connected to Solace message router!');\n        reject();\n        return;\n      }\n\n      const binaryAttachment = new Blob([payload], { type: 'text/plain; charset=utf-8' }).arrayBuffer();\n      let message = solace.SolclientFactory.createMessage();\n      message.setDestination(solace.SolclientFactory.createTopicDestination(topic));\n      binaryAttachment.then((buffer) => {\n        const correlationKey = uuidv4();\n\n        message.setCorrelationKey(correlationKey);\n        message.setBinaryAttachment(new Uint8Array(buffer));\n        message.setDeliveryMode(solace.MessageDeliveryModeType.PERSISTENT);\n\n        let onAck, onNak;\n        //call to be made on succesful publish\n        onAck = (evt: solace.SessionEvent) => {\n          if (evt.correlationKey !== correlationKey) {\n            return;\n          }\n          this.session.removeListener(String(solace.SessionEventCode.ACKNOWLEDGED_MESSAGE), onAck);\n          this.session.removeListener(String(solace.SessionEventCode.REJECTED_MESSAGE_ERROR), onNak);\n          resolve();\n        };\n\n        //call to be made on rejected publish\n        onNak = (evt: solace.SessionEvent) => {\n          console.log('Unsuccesfully published!');\n          if (evt.correlationKey !== correlationKey) {\n            return;\n          }\n          this.session.removeListener(String(solace.SessionEventCode.ACKNOWLEDGED_MESSAGE), onAck);\n          this.session.removeListener(String(solace.SessionEventCode.REJECTED_MESSAGE_ERROR), onNak);\n          reject();\n        };\n\n        try {\n          //register the callbacks on publish\n          this.session.on(solace.SessionEventCode.ACKNOWLEDGED_MESSAGE, onAck);\n          this.session.on(solace.SessionEventCode.REJECTED_MESSAGE_ERROR, onNak);\n          this.session.send(message);\n        } catch (error) {\n          //remove the callbacks on error\n          this.session.removeListener(String(solace.SessionEventCode.ACKNOWLEDGED_MESSAGE), onAck);\n          this.session.removeListener(String(solace.SessionEventCode.REJECTED_MESSAGE_ERROR), onNak);\n          console.error(error);\n          reject();\n        }\n      });\n    });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8a761743040f6fbaea442310066a9d7156349cba","contentHash":"c3132d93379f591a313c8564b67f26016159c0ab7674e85d993ce7aaa59d8431"},"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/pubsub-async-iterator.ts":{"path":"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/pubsub-async-iterator.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":18},"end":{"line":37,"column":1}},"13":{"start":{"line":12,"column":12},"end":{"line":12,"column":104}},"14":{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},"15":{"start":{"line":12,"column":57},"end":{"line":12,"column":68}},"16":{"start":{"line":12,"column":69},"end":{"line":12,"column":81}},"17":{"start":{"line":13,"column":4},"end":{"line":13,"column":157}},"18":{"start":{"line":13,"column":138},"end":{"line":13,"column":150}},"19":{"start":{"line":14,"column":23},"end":{"line":14,"column":68}},"20":{"start":{"line":14,"column":45},"end":{"line":14,"column":65}},"21":{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},"22":{"start":{"line":16,"column":15},"end":{"line":16,"column":70}},"23":{"start":{"line":17,"column":8},"end":{"line":34,"column":66}},"24":{"start":{"line":17,"column":50},"end":{"line":34,"column":66}},"25":{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},"26":{"start":{"line":18,"column":160},"end":{"line":18,"column":169}},"27":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"28":{"start":{"line":19,"column":26},"end":{"line":19,"column":52}},"29":{"start":{"line":20,"column":12},"end":{"line":32,"column":13}},"30":{"start":{"line":21,"column":32},"end":{"line":21,"column":39}},"31":{"start":{"line":21,"column":40},"end":{"line":21,"column":46}},"32":{"start":{"line":22,"column":24},"end":{"line":22,"column":34}},"33":{"start":{"line":22,"column":35},"end":{"line":22,"column":72}},"34":{"start":{"line":23,"column":24},"end":{"line":23,"column":34}},"35":{"start":{"line":23,"column":35},"end":{"line":23,"column":45}},"36":{"start":{"line":23,"column":46},"end":{"line":23,"column":55}},"37":{"start":{"line":23,"column":56},"end":{"line":23,"column":65}},"38":{"start":{"line":24,"column":24},"end":{"line":24,"column":41}},"39":{"start":{"line":24,"column":42},"end":{"line":24,"column":55}},"40":{"start":{"line":24,"column":56},"end":{"line":24,"column":65}},"41":{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},"42":{"start":{"line":26,"column":110},"end":{"line":26,"column":116}},"43":{"start":{"line":26,"column":117},"end":{"line":26,"column":126}},"44":{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},"45":{"start":{"line":27,"column":81},"end":{"line":27,"column":97}},"46":{"start":{"line":27,"column":98},"end":{"line":27,"column":104}},"47":{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},"48":{"start":{"line":28,"column":57},"end":{"line":28,"column":72}},"49":{"start":{"line":28,"column":73},"end":{"line":28,"column":80}},"50":{"start":{"line":28,"column":81},"end":{"line":28,"column":87}},"51":{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},"52":{"start":{"line":29,"column":47},"end":{"line":29,"column":62}},"53":{"start":{"line":29,"column":63},"end":{"line":29,"column":78}},"54":{"start":{"line":29,"column":79},"end":{"line":29,"column":85}},"55":{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},"56":{"start":{"line":30,"column":30},"end":{"line":30,"column":42}},"57":{"start":{"line":31,"column":20},"end":{"line":31,"column":33}},"58":{"start":{"line":31,"column":34},"end":{"line":31,"column":43}},"59":{"start":{"line":33,"column":12},"end":{"line":33,"column":39}},"60":{"start":{"line":34,"column":22},"end":{"line":34,"column":34}},"61":{"start":{"line":34,"column":35},"end":{"line":34,"column":41}},"62":{"start":{"line":34,"column":54},"end":{"line":34,"column":64}},"63":{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},"64":{"start":{"line":35,"column":23},"end":{"line":35,"column":35}},"65":{"start":{"line":35,"column":36},"end":{"line":35,"column":89}},"66":{"start":{"line":38,"column":0},"end":{"line":38,"column":62}},"67":{"start":{"line":39,"column":0},"end":{"line":39,"column":37}},"68":{"start":{"line":40,"column":16},"end":{"line":40,"column":34}},"69":{"start":{"line":41,"column":27},"end":{"line":144,"column":3}},"70":{"start":{"line":43,"column":8},"end":{"line":43,"column":29}},"71":{"start":{"line":44,"column":8},"end":{"line":44,"column":28}},"72":{"start":{"line":45,"column":8},"end":{"line":45,"column":28}},"73":{"start":{"line":46,"column":8},"end":{"line":46,"column":30}},"74":{"start":{"line":47,"column":8},"end":{"line":47,"column":86}},"75":{"start":{"line":48,"column":8},"end":{"line":48,"column":49}},"76":{"start":{"line":50,"column":4},"end":{"line":61,"column":6}},"77":{"start":{"line":51,"column":8},"end":{"line":60,"column":11}},"78":{"start":{"line":52,"column":12},"end":{"line":59,"column":15}},"79":{"start":{"line":53,"column":16},"end":{"line":58,"column":17}},"80":{"start":{"line":54,"column":28},"end":{"line":54,"column":59}},"81":{"start":{"line":56,"column":24},"end":{"line":56,"column":34}},"82":{"start":{"line":57,"column":24},"end":{"line":57,"column":86}},"83":{"start":{"line":62,"column":4},"end":{"line":76,"column":6}},"84":{"start":{"line":63,"column":8},"end":{"line":75,"column":11}},"85":{"start":{"line":65,"column":12},"end":{"line":74,"column":15}},"86":{"start":{"line":66,"column":16},"end":{"line":73,"column":17}},"87":{"start":{"line":68,"column":24},"end":{"line":68,"column":45}},"88":{"start":{"line":69,"column":24},"end":{"line":69,"column":55}},"89":{"start":{"line":71,"column":24},"end":{"line":71,"column":52}},"90":{"start":{"line":72,"column":24},"end":{"line":72,"column":69}},"91":{"start":{"line":77,"column":4},"end":{"line":91,"column":6}},"92":{"start":{"line":78,"column":8},"end":{"line":90,"column":11}},"93":{"start":{"line":80,"column":12},"end":{"line":89,"column":15}},"94":{"start":{"line":81,"column":16},"end":{"line":88,"column":17}},"95":{"start":{"line":83,"column":24},"end":{"line":83,"column":45}},"96":{"start":{"line":84,"column":24},"end":{"line":84,"column":55}},"97":{"start":{"line":86,"column":24},"end":{"line":86,"column":52}},"98":{"start":{"line":87,"column":24},"end":{"line":87,"column":58}},"99":{"start":{"line":92,"column":4},"end":{"line":94,"column":6}},"100":{"start":{"line":93,"column":8},"end":{"line":93,"column":20}},"101":{"start":{"line":95,"column":4},"end":{"line":112,"column":6}},"102":{"start":{"line":96,"column":8},"end":{"line":111,"column":11}},"103":{"start":{"line":97,"column":12},"end":{"line":110,"column":15}},"104":{"start":{"line":98,"column":16},"end":{"line":109,"column":17}},"105":{"start":{"line":99,"column":28},"end":{"line":99,"column":59}},"106":{"start":{"line":101,"column":24},"end":{"line":101,"column":34}},"107":{"start":{"line":102,"column":24},"end":{"line":107,"column":25}},"108":{"start":{"line":103,"column":28},"end":{"line":103,"column":82}},"109":{"start":{"line":106,"column":28},"end":{"line":106,"column":55}},"110":{"start":{"line":108,"column":24},"end":{"line":108,"column":35}},"111":{"start":{"line":113,"column":4},"end":{"line":123,"column":6}},"112":{"start":{"line":114,"column":20},"end":{"line":114,"column":24}},"113":{"start":{"line":115,"column":8},"end":{"line":122,"column":11}},"114":{"start":{"line":116,"column":12},"end":{"line":121,"column":13}},"115":{"start":{"line":117,"column":16},"end":{"line":117,"column":73}},"116":{"start":{"line":120,"column":16},"end":{"line":120,"column":46}},"117":{"start":{"line":124,"column":4},"end":{"line":132,"column":6}},"118":{"start":{"line":125,"column":8},"end":{"line":131,"column":9}},"119":{"start":{"line":126,"column":12},"end":{"line":126,"column":35}},"120":{"start":{"line":127,"column":12},"end":{"line":127,"column":49}},"121":{"start":{"line":128,"column":12},"end":{"line":128,"column":109}},"122":{"start":{"line":128,"column":56},"end":{"line":128,"column":105}},"123":{"start":{"line":129,"column":12},"end":{"line":129,"column":38}},"124":{"start":{"line":130,"column":12},"end":{"line":130,"column":38}},"125":{"start":{"line":133,"column":4},"end":{"line":136,"column":6}},"126":{"start":{"line":134,"column":20},"end":{"line":134,"column":24}},"127":{"start":{"line":135,"column":8},"end":{"line":135,"column":150}},"128":{"start":{"line":135,"column":71},"end":{"line":135,"column":145}},"129":{"start":{"line":137,"column":4},"end":{"line":142,"column":6}},"130":{"start":{"line":138,"column":8},"end":{"line":141,"column":9}},"131":{"start":{"line":138,"column":22},"end":{"line":138,"column":23}},"132":{"start":{"line":138,"column":45},"end":{"line":138,"column":60}},"133":{"start":{"line":139,"column":33},"end":{"line":139,"column":54}},"134":{"start":{"line":140,"column":12},"end":{"line":140,"column":52}},"135":{"start":{"line":143,"column":4},"end":{"line":143,"column":31}},"136":{"start":{"line":145,"column":0},"end":{"line":145,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":48},"end":{"line":11,"column":49}},"loc":{"start":{"line":11,"column":73},"end":{"line":37,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":12,"column":30},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":41},"end":{"line":12,"column":83}},"line":12},"9":{"name":"(anonymous_9)","decl":{"start":{"line":13,"column":125},"end":{"line":13,"column":126}},"loc":{"start":{"line":13,"column":136},"end":{"line":13,"column":152}},"line":13},"10":{"name":"verb","decl":{"start":{"line":14,"column":13},"end":{"line":14,"column":17}},"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":70}},"line":14},"11":{"name":"(anonymous_11)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":43},"end":{"line":14,"column":67}},"line":14},"12":{"name":"step","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":17}},"loc":{"start":{"line":15,"column":22},"end":{"line":36,"column":5}},"line":15},"13":{"name":"(anonymous_13)","decl":{"start":{"line":41,"column":27},"end":{"line":41,"column":28}},"loc":{"start":{"line":41,"column":39},"end":{"line":144,"column":1}},"line":41},"14":{"name":"PubSubAsyncIterator","decl":{"start":{"line":42,"column":13},"end":{"line":42,"column":32}},"loc":{"start":{"line":42,"column":53},"end":{"line":49,"column":5}},"line":42},"15":{"name":"(anonymous_15)","decl":{"start":{"line":50,"column":41},"end":{"line":50,"column":42}},"loc":{"start":{"line":50,"column":53},"end":{"line":61,"column":5}},"line":50},"16":{"name":"(anonymous_16)","decl":{"start":{"line":51,"column":47},"end":{"line":51,"column":48}},"loc":{"start":{"line":51,"column":59},"end":{"line":60,"column":9}},"line":51},"17":{"name":"(anonymous_17)","decl":{"start":{"line":52,"column":37},"end":{"line":52,"column":38}},"loc":{"start":{"line":52,"column":51},"end":{"line":59,"column":13}},"line":52},"18":{"name":"(anonymous_18)","decl":{"start":{"line":62,"column":43},"end":{"line":62,"column":44}},"loc":{"start":{"line":62,"column":55},"end":{"line":76,"column":5}},"line":62},"19":{"name":"(anonymous_19)","decl":{"start":{"line":63,"column":47},"end":{"line":63,"column":48}},"loc":{"start":{"line":63,"column":59},"end":{"line":75,"column":9}},"line":63},"20":{"name":"(anonymous_20)","decl":{"start":{"line":65,"column":37},"end":{"line":65,"column":38}},"loc":{"start":{"line":65,"column":51},"end":{"line":74,"column":13}},"line":65},"21":{"name":"(anonymous_21)","decl":{"start":{"line":77,"column":42},"end":{"line":77,"column":43}},"loc":{"start":{"line":77,"column":59},"end":{"line":91,"column":5}},"line":77},"22":{"name":"(anonymous_22)","decl":{"start":{"line":78,"column":47},"end":{"line":78,"column":48}},"loc":{"start":{"line":78,"column":59},"end":{"line":90,"column":9}},"line":78},"23":{"name":"(anonymous_23)","decl":{"start":{"line":80,"column":37},"end":{"line":80,"column":38}},"loc":{"start":{"line":80,"column":51},"end":{"line":89,"column":13}},"line":80},"24":{"name":"(anonymous_24)","decl":{"start":{"line":92,"column":63},"end":{"line":92,"column":64}},"loc":{"start":{"line":92,"column":75},"end":{"line":94,"column":5}},"line":92},"25":{"name":"(anonymous_25)","decl":{"start":{"line":95,"column":46},"end":{"line":95,"column":47}},"loc":{"start":{"line":95,"column":63},"end":{"line":112,"column":5}},"line":95},"26":{"name":"(anonymous_26)","decl":{"start":{"line":96,"column":47},"end":{"line":96,"column":48}},"loc":{"start":{"line":96,"column":59},"end":{"line":111,"column":9}},"line":96},"27":{"name":"(anonymous_27)","decl":{"start":{"line":97,"column":37},"end":{"line":97,"column":38}},"loc":{"start":{"line":97,"column":51},"end":{"line":110,"column":13}},"line":97},"28":{"name":"(anonymous_28)","decl":{"start":{"line":113,"column":46},"end":{"line":113,"column":47}},"loc":{"start":{"line":113,"column":58},"end":{"line":123,"column":5}},"line":113},"29":{"name":"(anonymous_29)","decl":{"start":{"line":115,"column":27},"end":{"line":115,"column":28}},"loc":{"start":{"line":115,"column":46},"end":{"line":122,"column":9}},"line":115},"30":{"name":"(anonymous_30)","decl":{"start":{"line":124,"column":47},"end":{"line":124,"column":48}},"loc":{"start":{"line":124,"column":74},"end":{"line":132,"column":5}},"line":124},"31":{"name":"(anonymous_31)","decl":{"start":{"line":128,"column":35},"end":{"line":128,"column":36}},"loc":{"start":{"line":128,"column":54},"end":{"line":128,"column":107}},"line":128},"32":{"name":"(anonymous_32)","decl":{"start":{"line":133,"column":49},"end":{"line":133,"column":50}},"loc":{"start":{"line":133,"column":61},"end":{"line":136,"column":5}},"line":133},"33":{"name":"(anonymous_33)","decl":{"start":{"line":135,"column":48},"end":{"line":135,"column":49}},"loc":{"start":{"line":135,"column":69},"end":{"line":135,"column":147}},"line":135},"34":{"name":"(anonymous_34)","decl":{"start":{"line":137,"column":51},"end":{"line":137,"column":52}},"loc":{"start":{"line":137,"column":78},"end":{"line":142,"column":5}},"line":137}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":18},"end":{"line":37,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":19},"end":{"line":11,"column":23}},{"start":{"line":11,"column":27},"end":{"line":11,"column":43}},{"start":{"line":11,"column":48},"end":{"line":37,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},"type":"if","locations":[{"start":{"line":12,"column":43},"end":{"line":12,"column":68}},{"start":{"line":12,"column":43},"end":{"line":12,"column":68}}],"line":12},"7":{"loc":{"start":{"line":13,"column":71},"end":{"line":13,"column":153}},"type":"binary-expr","locations":[{"start":{"line":13,"column":71},"end":{"line":13,"column":99}},{"start":{"line":13,"column":104},"end":{"line":13,"column":152}}],"line":13},"8":{"loc":{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":70}},{"start":{"line":16,"column":8},"end":{"line":16,"column":70}}],"line":16},"9":{"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":45}},"type":"binary-expr","locations":[{"start":{"line":17,"column":15},"end":{"line":17,"column":16}},{"start":{"line":17,"column":21},"end":{"line":17,"column":44}}],"line":17},"10":{"loc":{"start":{"line":17,"column":28},"end":{"line":17,"column":44}},"type":"binary-expr","locations":[{"start":{"line":17,"column":28},"end":{"line":17,"column":33}},{"start":{"line":17,"column":38},"end":{"line":17,"column":43}}],"line":17},"11":{"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":169}},{"start":{"line":18,"column":12},"end":{"line":18,"column":169}}],"line":18},"12":{"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":158}},"type":"binary-expr","locations":[{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},{"start":{"line":18,"column":29},"end":{"line":18,"column":125}},{"start":{"line":18,"column":130},"end":{"line":18,"column":158}}],"line":18},"13":{"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":125}},"type":"cond-expr","locations":[{"start":{"line":18,"column":45},"end":{"line":18,"column":56}},{"start":{"line":18,"column":59},"end":{"line":18,"column":125}}],"line":18},"14":{"loc":{"start":{"line":18,"column":59},"end":{"line":18,"column":125}},"type":"cond-expr","locations":[{"start":{"line":18,"column":67},"end":{"line":18,"column":116}},{"start":{"line":18,"column":119},"end":{"line":18,"column":125}}],"line":18},"15":{"loc":{"start":{"line":18,"column":67},"end":{"line":18,"column":116}},"type":"binary-expr","locations":[{"start":{"line":18,"column":67},"end":{"line":18,"column":77}},{"start":{"line":18,"column":82},"end":{"line":18,"column":115}}],"line":18},"16":{"loc":{"start":{"line":18,"column":82},"end":{"line":18,"column":112}},"type":"binary-expr","locations":[{"start":{"line":18,"column":83},"end":{"line":18,"column":98}},{"start":{"line":18,"column":103},"end":{"line":18,"column":112}}],"line":18},"17":{"loc":{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":52}},{"start":{"line":19,"column":12},"end":{"line":19,"column":52}}],"line":19},"18":{"loc":{"start":{"line":20,"column":12},"end":{"line":32,"column":13}},"type":"switch","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":23}},{"start":{"line":21,"column":24},"end":{"line":21,"column":46}},{"start":{"line":22,"column":16},"end":{"line":22,"column":72}},{"start":{"line":23,"column":16},"end":{"line":23,"column":65}},{"start":{"line":24,"column":16},"end":{"line":24,"column":65}},{"start":{"line":25,"column":16},"end":{"line":31,"column":43}}],"line":20},"19":{"loc":{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},"type":"if","locations":[{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},{"start":{"line":26,"column":20},"end":{"line":26,"column":128}}],"line":26},"20":{"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":106}},"type":"binary-expr","locations":[{"start":{"line":26,"column":24},"end":{"line":26,"column":74}},{"start":{"line":26,"column":79},"end":{"line":26,"column":90}},{"start":{"line":26,"column":94},"end":{"line":26,"column":105}}],"line":26},"21":{"loc":{"start":{"line":26,"column":42},"end":{"line":26,"column":73}},"type":"binary-expr","locations":[{"start":{"line":26,"column":42},"end":{"line":26,"column":54}},{"start":{"line":26,"column":58},"end":{"line":26,"column":73}}],"line":26},"22":{"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},"type":"if","locations":[{"start":{"line":27,"column":20},"end":{"line":27,"column":106}},{"start":{"line":27,"column":20},"end":{"line":27,"column":106}}],"line":27},"23":{"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":77}},"type":"binary-expr","locations":[{"start":{"line":27,"column":24},"end":{"line":27,"column":35}},{"start":{"line":27,"column":40},"end":{"line":27,"column":42}},{"start":{"line":27,"column":47},"end":{"line":27,"column":59}},{"start":{"line":27,"column":63},"end":{"line":27,"column":75}}],"line":27},"24":{"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},"type":"if","locations":[{"start":{"line":28,"column":20},"end":{"line":28,"column":89}},{"start":{"line":28,"column":20},"end":{"line":28,"column":89}}],"line":28},"25":{"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":53}},"type":"binary-expr","locations":[{"start":{"line":28,"column":24},"end":{"line":28,"column":35}},{"start":{"line":28,"column":39},"end":{"line":28,"column":53}}],"line":28},"26":{"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},"type":"if","locations":[{"start":{"line":29,"column":20},"end":{"line":29,"column":87}},{"start":{"line":29,"column":20},"end":{"line":29,"column":87}}],"line":29},"27":{"loc":{"start":{"line":29,"column":24},"end":{"line":29,"column":43}},"type":"binary-expr","locations":[{"start":{"line":29,"column":24},"end":{"line":29,"column":25}},{"start":{"line":29,"column":29},"end":{"line":29,"column":43}}],"line":29},"28":{"loc":{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},"type":"if","locations":[{"start":{"line":30,"column":20},"end":{"line":30,"column":42}},{"start":{"line":30,"column":20},"end":{"line":30,"column":42}}],"line":30},"29":{"loc":{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":35}},{"start":{"line":35,"column":8},"end":{"line":35,"column":35}}],"line":35},"30":{"loc":{"start":{"line":35,"column":52},"end":{"line":35,"column":74}},"type":"cond-expr","locations":[{"start":{"line":35,"column":60},"end":{"line":35,"column":65}},{"start":{"line":35,"column":68},"end":{"line":35,"column":74}}],"line":35},"31":{"loc":{"start":{"line":47,"column":27},"end":{"line":47,"column":85}},"type":"cond-expr","locations":[{"start":{"line":47,"column":60},"end":{"line":47,"column":72}},{"start":{"line":47,"column":75},"end":{"line":47,"column":85}}],"line":47},"32":{"loc":{"start":{"line":53,"column":16},"end":{"line":58,"column":17}},"type":"switch","locations":[{"start":{"line":54,"column":20},"end":{"line":54,"column":59}},{"start":{"line":55,"column":20},"end":{"line":57,"column":86}}],"line":53},"33":{"loc":{"start":{"line":57,"column":35},"end":{"line":57,"column":84}},"type":"cond-expr","locations":[{"start":{"line":57,"column":52},"end":{"line":57,"column":68}},{"start":{"line":57,"column":71},"end":{"line":57,"column":84}}],"line":57},"34":{"loc":{"start":{"line":66,"column":16},"end":{"line":73,"column":17}},"type":"switch","locations":[{"start":{"line":67,"column":20},"end":{"line":69,"column":55}},{"start":{"line":70,"column":20},"end":{"line":72,"column":69}}],"line":66},"35":{"loc":{"start":{"line":81,"column":16},"end":{"line":88,"column":17}},"type":"switch","locations":[{"start":{"line":82,"column":20},"end":{"line":84,"column":55}},{"start":{"line":85,"column":20},"end":{"line":87,"column":58}}],"line":81},"36":{"loc":{"start":{"line":98,"column":16},"end":{"line":109,"column":17}},"type":"switch","locations":[{"start":{"line":99,"column":20},"end":{"line":99,"column":59}},{"start":{"line":100,"column":20},"end":{"line":108,"column":35}}],"line":98},"37":{"loc":{"start":{"line":102,"column":24},"end":{"line":107,"column":25}},"type":"if","locations":[{"start":{"line":102,"column":24},"end":{"line":107,"column":25}},{"start":{"line":102,"column":24},"end":{"line":107,"column":25}}],"line":102},"38":{"loc":{"start":{"line":116,"column":12},"end":{"line":121,"column":13}},"type":"if","locations":[{"start":{"line":116,"column":12},"end":{"line":121,"column":13}},{"start":{"line":116,"column":12},"end":{"line":121,"column":13}}],"line":116},"39":{"loc":{"start":{"line":125,"column":8},"end":{"line":131,"column":9}},"type":"if","locations":[{"start":{"line":125,"column":8},"end":{"line":131,"column":9}},{"start":{"line":125,"column":8},"end":{"line":131,"column":9}}],"line":125}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":1,"68":1,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":1,"126":0,"127":0,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":1,"136":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0,0,0,0],"19":[0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0,0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/pubsub-async-iterator.ts","sources":["/Users/thomaskunnumpurath/dev/graphql-solace-subscriptions/src/pubsub-async-iterator.ts"],"names":[],"mappings":"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","sourcesContent":["import { $$asyncIterator } from 'iterall';\nimport { PubSubEngine } from 'graphql-subscriptions/dist/pubsub-engine';\n\n/**\n * A class for digesting PubSubEngine events via the new AsyncIterator interface.\n * This implementation is a generic version of the one located at\n * https://github.com/apollographql/graphql-subscriptions/blob/master/src/event-emitter-to-async-iterator.ts\n * @class\n *\n * @constructor\n *\n * @property pullQueue @type {Function[]}\n * A queue of resolve functions waiting for an incoming event which has not yet arrived.\n * This queue expands as next() calls are made without PubSubEngine events occurring in between.\n *\n * @property pushQueue @type {any[]}\n * A queue of PubSubEngine events waiting for next() calls to be made.\n * This queue expands as PubSubEngine events arrice without next() calls occurring in between.\n *\n * @property eventsArray @type {string[]}\n * An array of PubSubEngine event names which this PubSubAsyncIterator should watch.\n *\n * @property allSubscribed @type {Promise<number[]>}\n * A promise of a list of all subscription ids to the passed PubSubEngine.\n *\n * @property listening @type {boolean}\n * Whether or not the PubSubAsynIterator is in listening mode (responding to incoming PubSubEngine events and next() calls).\n * Listening begins as true and turns to false once the return method is called.\n *\n * @property pubsub @type {PubSubEngine}\n * The PubSubEngine whose events will be observed.\n */\nexport class PubSubAsyncIterator<T> implements AsyncIterator<T> {\n\n  private pullQueue: Function[];\n  private pushQueue: any[];\n  private eventsArray: string[];\n  private allSubscribed: Promise<number[]>;\n  private listening: boolean;\n  private pubsub: PubSubEngine;\n\n  constructor(pubsub: PubSubEngine, eventNames: string | string[]) {\n    this.pubsub = pubsub;\n    this.pullQueue = [];\n    this.pushQueue = [];\n    this.listening = true;\n    this.eventsArray = typeof eventNames === 'string' ? [eventNames] : eventNames;\n    this.allSubscribed = this.subscribeAll();\n  }\n\n  public async next() {\n    await this.allSubscribed;\n    return this.listening ? this.pullValue() : this.return();\n  }\n\n  public async return() {\n    this.emptyQueue(await this.allSubscribed);\n    return { value: undefined, done: true };\n  }\n\n  public async throw(error) {\n    this.emptyQueue(await this.allSubscribed);\n    return Promise.reject(error);\n  }\n\n  public [$$asyncIterator]() {\n    return this;\n  }\n\n  private async pushValue(event) {\n    await this.allSubscribed;\n    if (this.pullQueue.length !== 0) {\n      this.pullQueue.shift()({ value: event, done: false });\n    } else {\n      this.pushQueue.push(event);\n    }\n  }\n\n  private pullValue(): Promise<IteratorResult<any>> {\n    return new Promise(resolve => {\n      if (this.pushQueue.length !== 0) {\n        resolve({ value: this.pushQueue.shift(), done: false });\n      } else {\n        this.pullQueue.push(resolve);\n      }\n    });\n  }\n\n  private emptyQueue(subscriptionIds: number[]) {\n    if (this.listening) {\n      this.listening = false;\n      this.unsubscribeAll(subscriptionIds);\n      this.pullQueue.forEach(resolve => resolve({ value: undefined, done: true }));\n      this.pullQueue.length = 0;\n      this.pushQueue.length = 0;\n    }\n  }\n\n  private subscribeAll() {\n    return Promise.all(this.eventsArray.map(\n        eventName => this.pubsub.subscribe(eventName, this.pushValue.bind(this), {}),\n    ));\n  }\n\n  private unsubscribeAll(subscriptionIds: number[]) {\n    for (const subscriptionId of subscriptionIds) {\n      this.pubsub.unsubscribe(subscriptionId);\n    }\n  }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c7704f87220ce27350973cbfaa71ae1f226b8149","contentHash":"badc77005b9cf27eb74279e56128ce82e8d36213c93347c05b6c2dc8d1a222de"}}